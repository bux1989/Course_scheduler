(()=>{var e={484:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>i});var a=o(698),n=o.n(a),l=o(58),s=o.n(l)()(n());s.push([e.id,".assignment-modal-overlay[data-v-17031830]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:1000}.assignment-modal[data-v-17031830]{background:#fff;border-radius:8px;width:90%;max-width:900px;max-height:90vh;overflow-y:auto;box-shadow:0 4px 20px rgba(0,0,0,.15)}.modal-header[data-v-17031830]{padding:16px 20px;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;background:#fff;z-index:1}.modal-header h2[data-v-17031830]{margin:0;color:#333;font-size:1.3em}.close-button[data-v-17031830]{background:none;border:none;font-size:1.5em;cursor:pointer;color:#999;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.period-info[data-v-17031830]{padding:16px 20px;background:#f8f9fa;border-bottom:1px solid #e0e0e0;display:flex;gap:24px;flex-wrap:wrap}.info-item[data-v-17031830]{font-size:.9em}.existing-assignments[data-v-17031830],.available-courses[data-v-17031830]{padding:20px}.existing-assignments h3[data-v-17031830],.available-courses h3[data-v-17031830]{margin:0 0 16px 0;color:#333;font-size:1.1em}.assignment-list[data-v-17031830]{display:flex;flex-direction:column;gap:12px;margin-bottom:24px}.assignment-card[data-v-17031830]{padding:12px;border:1px solid #e0e0e0;border-radius:6px;position:relative}.assignment-card.has-conflicts[data-v-17031830]{border-color:#ff4d4f;background:#fff2f0}.assignment-header[data-v-17031830]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px}.course-name[data-v-17031830]{font-weight:600;color:#333;font-size:1em}.assignment-actions[data-v-17031830]{display:flex;gap:4px}.edit-btn[data-v-17031830],.remove-btn[data-v-17031830]{background:none;border:none;cursor:pointer;padding:2px;font-size:.9em;border-radius:3px}.edit-btn[data-v-17031830]:hover,.remove-btn[data-v-17031830]:hover{background:#f0f0f0}.assignment-details[data-v-17031830]{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:8px;margin-bottom:8px}.detail-item[data-v-17031830]{font-size:.85em;color:#666}.conflicts-section[data-v-17031830]{margin-top:12px;padding:8px;background:#fff2f0;border:1px solid #ffccc7;border-radius:4px}.conflicts-header[data-v-17031830]{font-weight:600;color:#ff4d4f;margin-bottom:6px;font-size:.9em}.conflicts-list[data-v-17031830]{margin:0;padding-left:20px;font-size:.85em;color:#666}.course-filter[data-v-17031830]{display:flex;gap:12px;margin-bottom:16px}.filter-input[data-v-17031830],.filter-select[data-v-17031830]{padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:.9em}.filter-input[data-v-17031830]{flex:1;min-width:200px}.filter-select[data-v-17031830]{min-width:150px}.course-grid[data-v-17031830]{display:grid;grid-template-columns:repeat(auto-fill, minmax(280px, 1fr));gap:12px;margin-bottom:16px}.course-card[data-v-17031830]{padding:12px;border:1px solid #e0e0e0;border-radius:6px;cursor:pointer;transition:all .2s;position:relative}.course-card[data-v-17031830]:hover{transform:translateY(-1px);box-shadow:0 2px 8px rgba(0,0,0,.1)}.course-card.available[data-v-17031830]{border-color:#52c41a}.course-card.unavailable[data-v-17031830]{border-color:#faad14;background:#fffbe6}.course-card.conflict-warning[data-v-17031830]{border-color:#ff4d4f}.course-header[data-v-17031830]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px}.course-indicators[data-v-17031830]{display:flex;gap:4px}.unavailable-badge[data-v-17031830],.conflict-badge[data-v-17031830]{font-size:.8em}.course-description[data-v-17031830]{font-size:.85em;color:#666;margin-bottom:8px;line-height:1.3}.course-details[data-v-17031830]{display:flex;flex-wrap:wrap;gap:12px}.detail-small[data-v-17031830]{font-size:.8em;color:#888}.no-courses[data-v-17031830]{text-align:center;padding:40px;color:#999;font-style:italic}.quick-assign-form[data-v-17031830]{padding:20px;border-top:1px solid #e0e0e0;background:#f8f9fa}.quick-assign-form h3[data-v-17031830]{margin:0 0 16px 0;color:#333;font-size:1.1em}.form-grid[data-v-17031830]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}.form-group[data-v-17031830]{margin-bottom:16px}.form-group label[data-v-17031830]{display:block;margin-bottom:6px;font-weight:500;color:#333;font-size:.9em}.form-group select[data-v-17031830],.form-group input[data-v-17031830]{width:100%;padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:.9em}.teacher-grid[data-v-17031830]{display:grid;grid-template-columns:repeat(auto-fill, minmax(200px, 1fr));gap:8px;max-height:120px;overflow-y:auto;padding:8px;border:1px solid #e0e0e0;border-radius:4px;background:#fff}.teacher-checkbox[data-v-17031830]{display:flex;align-items:center;gap:6px;font-size:.85em;cursor:pointer;padding:4px;border-radius:3px}.teacher-checkbox[data-v-17031830]:hover{background:#f0f0f0}.form-actions[data-v-17031830]{display:flex;justify-content:flex-end;gap:12px;margin-top:20px;padding-top:16px;border-top:1px solid #e0e0e0}.cancel-btn[data-v-17031830],.confirm-btn[data-v-17031830]{padding:8px 16px;border-radius:4px;font-size:.9em;cursor:pointer;transition:all .2s}.cancel-btn[data-v-17031830]{background:#fff;border:1px solid #ddd;color:#666}.cancel-btn[data-v-17031830]:hover{background:#f0f0f0}.confirm-btn[data-v-17031830]{background:#007cba;border:1px solid #007cba;color:#fff}.confirm-btn[data-v-17031830]:hover:not(:disabled){background:#005a87}.confirm-btn[data-v-17031830]:disabled{background:#a0aee9;cursor:not-allowed}@media(max-width: 768px){.assignment-modal[data-v-17031830]{width:95%;max-height:95vh}.period-info[data-v-17031830]{flex-direction:column;gap:8px}.course-filter[data-v-17031830]{flex-direction:column}.form-grid[data-v-17031830]{grid-template-columns:1fr}.course-grid[data-v-17031830]{grid-template-columns:1fr}.teacher-grid[data-v-17031830]{grid-template-columns:1fr}}",""]);const i=s},580:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>i});var a=o(698),n=o.n(a),l=o(58),s=o.n(l)()(n());s.push([e.id,".conflict-panel[data-v-52ced96f]{background:#fff;border:1px solid #ff4d4f;border-radius:6px;box-shadow:0 2px 8px rgba(255,77,79,.15);max-height:500px;display:flex;flex-direction:column}.panel-header[data-v-52ced96f]{padding:12px 16px;background:#fff2f0;border-bottom:1px solid #ffccc7;display:flex;justify-content:space-between;align-items:center}.panel-header h3[data-v-52ced96f]{margin:0;color:#ff4d4f;font-size:1em;display:flex;align-items:center;gap:6px}.conflict-icon[data-v-52ced96f]{font-size:1.1em}.header-actions[data-v-52ced96f]{display:flex;align-items:center;gap:8px}.filter-select[data-v-52ced96f]{padding:4px 8px;border:1px solid #d9d9d9;border-radius:4px;font-size:.85em}.close-button[data-v-52ced96f]{background:none;border:none;font-size:1.2em;cursor:pointer;color:#999;width:24px;height:24px;display:flex;align-items:center;justify-content:center}.panel-content[data-v-52ced96f]{flex:1;overflow-y:auto;padding:0}.no-conflicts[data-v-52ced96f]{padding:40px 20px;text-align:center;color:#52c41a}.no-conflicts-icon[data-v-52ced96f]{font-size:2em;margin-bottom:8px}.no-conflicts h4[data-v-52ced96f]{margin:0 0 8px 0;color:#333}.no-conflicts p[data-v-52ced96f]{margin:0;color:#666;font-size:.9em}.conflicts-list[data-v-52ced96f]{padding:0}.conflict-item[data-v-52ced96f]{padding:16px;border-bottom:1px solid #f0f0f0;transition:background-color .2s}.conflict-item[data-v-52ced96f]:hover{background:#f9f9f9}.conflict-item[data-v-52ced96f]:last-child{border-bottom:none}.conflict-type-critical[data-v-52ced96f]{border-left:4px solid #ff4d4f;background:#fff2f0}.conflict-type-high[data-v-52ced96f]{border-left:4px solid #fa8c16;background:#fff7e6}.conflict-type-medium[data-v-52ced96f]{border-left:4px solid #fadb14;background:#feffe6}.conflict-type-low[data-v-52ced96f]{border-left:4px solid #52c41a;background:#f6ffed}.conflict-header[data-v-52ced96f]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px}.conflict-title[data-v-52ced96f]{display:flex;align-items:center;gap:8px}.conflict-type-badge[data-v-52ced96f]{padding:2px 6px;border-radius:3px;font-size:.75em;font-weight:500}.badge-teacher[data-v-52ced96f]{background:#e6f7ff;color:#1890ff}.badge-room[data-v-52ced96f]{background:#f6ffed;color:#52c41a}.badge-class[data-v-52ced96f]{background:#fff7e6;color:#fa8c16}.badge-time[data-v-52ced96f]{background:#fff2f0;color:#ff4d4f}.badge-warning[data-v-52ced96f]{background:#feffe6;color:#fadb14}.conflict-severity[data-v-52ced96f]{font-size:.9em}.conflict-actions[data-v-52ced96f]{display:flex;gap:6px}.navigate-btn[data-v-52ced96f],.suggest-btn[data-v-52ced96f]{padding:2px 6px;border:1px solid #d9d9d9;border-radius:3px;background:#fff;font-size:.75em;cursor:pointer;transition:all .2s}.navigate-btn[data-v-52ced96f]:hover,.suggest-btn[data-v-52ced96f]:hover{background:#f0f0f0;transform:translateY(-1px)}.conflict-description[data-v-52ced96f]{margin-bottom:12px;color:#333;font-size:.9em;line-height:1.4}.conflict-details[data-v-52ced96f]{margin-bottom:12px}.detail-row[data-v-52ced96f]{margin-bottom:6px;font-size:.85em;display:flex;align-items:flex-start;gap:8px}.course-list[data-v-52ced96f],.teacher-list[data-v-52ced96f],.class-list[data-v-52ced96f],.room-list[data-v-52ced96f]{display:flex;flex-wrap:wrap;gap:4px}.course-tag[data-v-52ced96f],.teacher-tag[data-v-52ced96f],.class-tag[data-v-52ced96f],.room-tag[data-v-52ced96f]{padding:2px 6px;border-radius:3px;font-size:.8em;font-weight:500;background:#f0f0f0;color:#333}.conflict-suggestions[data-v-52ced96f]{margin-top:12px;padding:8px;background:#f0f9ff;border:1px solid #bae7ff;border-radius:4px}.suggestions-header[data-v-52ced96f]{font-weight:500;margin-bottom:6px;font-size:.85em;color:#1890ff}.suggestions-list[data-v-52ced96f]{margin:0;padding:0;list-style:none}.suggestion-item[data-v-52ced96f]{display:flex;justify-content:space-between;align-items:center;padding:4px 0;font-size:.8em}.suggestion-text[data-v-52ced96f]{flex:1;color:#666}.apply-suggestion-btn[data-v-52ced96f]{padding:2px 8px;background:#1890ff;color:#fff;border:none;border-radius:3px;font-size:.75em;cursor:pointer}.auto-resolve[data-v-52ced96f]{margin-top:8px;text-align:right}.ignore-btn[data-v-52ced96f]{padding:4px 8px;background:#f0f0f0;border:1px solid #d9d9d9;border-radius:3px;font-size:.8em;cursor:pointer;color:#666}.panel-footer[data-v-52ced96f]{padding:12px 16px;background:#fafafa;border-top:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center}.conflict-summary[data-v-52ced96f]{display:flex;gap:12px;font-size:.8em}.summary-item[data-v-52ced96f]{padding:2px 6px;border-radius:3px;font-weight:500}.summary-item.critical[data-v-52ced96f]{background:#fff2f0;color:#ff4d4f}.summary-item.high[data-v-52ced96f]{background:#fff7e6;color:#fa8c16}.summary-item.medium[data-v-52ced96f]{background:#feffe6;color:#fadb14}.summary-item.low[data-v-52ced96f]{background:#f6ffed;color:#52c41a}.panel-actions[data-v-52ced96f]{display:flex;gap:8px}.auto-resolve-btn[data-v-52ced96f],.export-btn[data-v-52ced96f]{padding:6px 12px;border:1px solid #d9d9d9;border-radius:4px;background:#fff;font-size:.8em;cursor:pointer;transition:all .2s}.auto-resolve-btn[data-v-52ced96f]{background:#1890ff;color:#fff;border-color:#1890ff}.auto-resolve-btn[data-v-52ced96f]:hover,.export-btn[data-v-52ced96f]:hover{transform:translateY(-1px)}@media(max-width: 768px){.panel-header[data-v-52ced96f]{flex-direction:column;gap:8px;align-items:stretch}.header-actions[data-v-52ced96f]{justify-content:space-between}.conflict-header[data-v-52ced96f]{flex-direction:column;gap:8px}.panel-footer[data-v-52ced96f]{flex-direction:column;gap:12px;align-items:stretch}.conflict-summary[data-v-52ced96f]{justify-content:space-around}}",""]);const i=s},766:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>i});var a=o(698),n=o.n(a),l=o(58),s=o.n(l)()(n());s.push([e.id,'.scheduler-grid[data-v-9554d852]{display:flex;flex-direction:column;width:100%;border:1px solid #ddd;border-radius:6px;overflow:hidden;background:#fff}.main-grid-container.emergency-mode[data-v-9554d852]{border:3px solid #e74c3c;box-shadow:0 0 10px rgba(231,76,60,.3)}.main-grid-container.normal-mode[data-v-9554d852]{border:2px solid #27ae60;box-shadow:0 0 5px rgba(39,174,96,.2)}.emergency-recovery-notice[data-v-9554d852]{background:#ffe6e6;border:2px solid #e74c3c;padding:12px;margin:8px;border-radius:4px;text-align:center}.emergency-message[data-v-9554d852]{color:#c0392b;font-weight:bold}.emergency-recover-btn[data-v-9554d852]{background:#e74c3c;color:#fff;border:none;padding:6px 12px;border-radius:4px;margin-left:10px;cursor:pointer;font-size:.9em}.emergency-recover-btn[data-v-9554d852]:hover{background:#c0392b}.scheduler-toolbar[data-v-9554d852]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#f8f9fa;border-bottom:1px solid #ddd;gap:16px;flex-wrap:wrap}.toolbar-section[data-v-9554d852]{display:flex;align-items:center;gap:8px}.filter-label[data-v-9554d852]{display:flex;align-items:center;gap:6px;font-size:.9em;cursor:pointer}.toolbar-actions[data-v-9554d852]{display:flex;gap:8px}.undo-button[data-v-9554d852],.save-button[data-v-9554d852]{padding:6px 12px;border:1px solid #ddd;border-radius:4px;background:#fff;cursor:pointer;font-size:.9em;transition:all .2s}.undo-button[data-v-9554d852]:disabled{opacity:.5;cursor:not-allowed}.save-button[data-v-9554d852]{background:#007cba;color:#fff;border-color:#007cba}.save-button.saving[data-v-9554d852]{opacity:.7}.grid-header[data-v-9554d852]{display:flex;background:#f5f5f5;border-bottom:1px solid #ddd;font-weight:600}.period-header-cell[data-v-9554d852]{width:140px;padding:12px 8px;border-right:1px solid #ddd;display:flex;align-items:center;justify-content:center}.day-header-cell[data-v-9554d852]{flex:1;padding:12px 8px;border-right:1px solid #ddd;text-align:center;display:flex;flex-direction:column;gap:2px}.day-name[data-v-9554d852]{font-size:.95em}.day-date[data-v-9554d852]{font-size:.8em;color:#666;font-weight:normal}.grid-body[data-v-9554d852]{display:flex;flex-direction:column}.grid-row[data-v-9554d852]{display:flex;border-bottom:1px solid #ddd;min-height:80px}.grid-row.non-instructional[data-v-9554d852]{background:#f8f9fa}.period-label-cell[data-v-9554d852]{width:140px;padding:8px;border-right:1px solid #ddd;background:#f9f9f9;display:flex;align-items:center}.period-info[data-v-9554d852]{display:flex;flex-direction:column;gap:2px}.period-name[data-v-9554d852]{font-weight:500;font-size:.9em}.period-time[data-v-9554d852]{font-size:.8em;color:#666}.non-instructional-badge[data-v-9554d852]{font-size:.75em;color:#888;background:#e9ecef;padding:2px 4px;border-radius:3px}.schedule-cell[data-v-9554d852]{flex:1;border-right:1px solid #ddd;position:relative;cursor:pointer;transition:background-color .2s;min-height:80px}.schedule-cell[data-v-9554d852]:hover{background:#f0f7ff}.schedule-cell.has-assignments[data-v-9554d852]{background:#e6f7ff}.schedule-cell.multiple-assignments[data-v-9554d852]{background:#d6f3ff}.schedule-cell.has-conflicts[data-v-9554d852]{background:#fff2f0;border-left:3px solid #ff4d4f}.assignments-container[data-v-9554d852]{padding:4px;height:100%;display:flex;flex-direction:column;gap:2px;position:relative}.assignment-item[data-v-9554d852]{padding:4px 6px;border-radius:3px;border:1px solid #e0e0e0;position:relative;cursor:pointer;transition:all .2s}.assignment-item[data-v-9554d852]:hover{transform:translateX(1px);box-shadow:0 1px 3px rgba(0,0,0,.1)}.assignment-item.has-conflict[data-v-9554d852]{border-color:#ff4d4f;background:#fff2f0}.assignment-item.has-deleted-entities[data-v-9554d852]{border-color:#faad14;background:#fff7e6}.assignment-item.lesson-schedule[data-v-9554d852]{opacity:.6;border-style:dashed;background:#f5f5f5 !important;font-style:italic;font-size:.8em;transform:scale(0.95);margin:1px}.assignment-content[data-v-9554d852]{display:flex;flex-direction:column;gap:1px}.course-name[data-v-9554d852]{font-weight:500;font-size:.85em;line-height:1.2}.class-name[data-v-9554d852],.teacher-names[data-v-9554d852],.room-name[data-v-9554d852]{font-size:.75em;color:#666;line-height:1.1}.conflict-indicator[data-v-9554d852],.deleted-warning[data-v-9554d852]{position:absolute;top:2px;right:2px;font-size:.7em}.add-more-button[data-v-9554d852]{margin-top:2px;padding:2px 4px;background:#f0f0f0;border:1px dashed #ccc;border-radius:2px;cursor:pointer;font-size:.8em;align-self:stretch}.add-more-button[data-v-9554d852]:hover{background:#e0e0e0}.empty-cell[data-v-9554d852]{height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#ccc;font-size:.85em;gap:4px}.add-icon[data-v-9554d852]{font-size:20px;opacity:.6}.add-text[data-v-9554d852]{opacity:.8}.statistics-panel[data-v-9554d852]{padding:16px;background:#f8f9fa;border-top:1px solid #ddd}.statistics-panel h3[data-v-9554d852]{margin:0 0 12px 0;color:#333;font-size:1em}.stats-grid[data-v-9554d852]{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:16px}.year-stats[data-v-9554d852]{background:#fff;padding:12px;border-radius:4px;border:1px solid #e0e0e0}.year-stats h4[data-v-9554d852]{margin:0 0 8px 0;color:#333;font-size:.9em}.stat-item[data-v-9554d852]{display:flex;justify-content:space-between;font-size:.85em;margin-bottom:4px}.stat-label[data-v-9554d852]{color:#666}.stat-value[data-v-9554d852]{font-weight:500;color:#333}.available-courses-panel[data-v-9554d852]{padding:16px;background:#f0f8ff;border-top:1px solid #007cba;border-bottom:1px solid #ddd}.available-courses-panel h3[data-v-9554d852]{margin:0 0 8px 0;color:#007cba;font-size:1.1em}.focused-period-info[data-v-9554d852]{margin:0 0 16px 0;color:#666;font-size:.9em}.day-courses-grid[data-v-9554d852]{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:16px}.day-courses-column h4[data-v-9554d852]{margin:0 0 12px 0;padding:8px 12px;background:#007cba;color:#fff;border-radius:4px;text-align:center;font-size:.9em}.available-courses-list[data-v-9554d852]{display:flex;flex-direction:column;gap:8px;max-height:300px;overflow-y:auto}.course-card[data-v-9554d852]{padding:10px;background:#fff;border:1px solid #ddd;border-radius:4px;cursor:pointer;transition:all .2s;font-size:.85em}.course-card[data-v-9554d852]:hover{transform:translateY(-1px);box-shadow:0 2px 4px rgba(0,124,186,.15);border-color:#007cba}.course-card .course-name[data-v-9554d852]{font-weight:500;color:#333;margin-bottom:4px;display:block}.course-card .course-details[data-v-9554d852]{display:flex;flex-direction:column;gap:2px}.course-card .course-details small[data-v-9554d852]{color:#666;font-size:.8em}.no-courses[data-v-9554d852]{padding:16px;text-align:center;color:#999;font-style:italic;background:#f9f9f9;border:1px dashed #ddd;border-radius:4px}.no-preferred-days-panel[data-v-9554d852]{padding:16px;background:#f0f8e6;border:1px solid #52c41a;border-radius:4px;margin-top:16px}.no-preferred-days-panel h4[data-v-9554d852]{margin:0 0 8px 0;color:#52c41a;font-size:1em;display:flex;align-items:center;gap:8px}.panel-description[data-v-9554d852]{margin:0 0 12px 0;color:#666;font-size:.9em;font-style:italic}.no-preferred-courses-list[data-v-9554d852]{display:grid;grid-template-columns:repeat(auto-fill, minmax(250px, 1fr));gap:12px}.flexible-tag[data-v-9554d852]{color:#52c41a !important;font-weight:500}@media(max-width: 768px){.period-header-cell[data-v-9554d852],.period-label-cell[data-v-9554d852]{width:100px;font-size:.8em}.day-header-cell[data-v-9554d852]{font-size:.8em}.scheduler-toolbar[data-v-9554d852]{flex-direction:column;align-items:stretch;gap:8px}.stats-grid[data-v-9554d852]{grid-template-columns:1fr}}.schedule-cell[data-v-9554d852]:focus{outline:2px solid #007cba;outline-offset:-2px}.debug-message-panel[data-v-9554d852]{padding:20px;background:#fff3cd;border:1px solid #ffeaa7;border-radius:4px;margin:16px}.debug-message-panel h3[data-v-9554d852]{margin:0 0 12px 0;color:#856404}.debug-warning[data-v-9554d852]{margin-bottom:16px;padding:12px;background:#fff;border-left:4px solid #ffc107;border-radius:4px}.debug-warning strong[data-v-9554d852]{display:block;margin-bottom:8px;color:#856404}.debug-warning ul[data-v-9554d852]{margin:8px 0 0 16px;color:#6c757d;font-family:monospace;font-size:.9em}.debug-warning li[data-v-9554d852]{margin-bottom:4px;word-break:break-all}.debug-info[data-v-9554d852]{font-size:.7em;color:#888;margin-top:2px;padding:2px;background:rgba(0,0,0,.05);border-radius:2px}.scheduler-grid[data-readonly=true] .schedule-cell[data-v-9554d852]{cursor:default}.scheduler-grid[data-readonly=true] .schedule-cell[data-v-9554d852]:hover{background:inherit}.filter-label[data-v-9554d852]{display:flex;align-items:center;gap:6px;font-size:.9em;margin-right:16px}.mode-switcher[data-v-9554d852]{display:flex;align-items:center;gap:8px;font-size:.9em}.mode-toggle[data-v-9554d852]{width:40px;height:20px;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#ccc;border-radius:10px;position:relative;cursor:pointer;transition:background-color .3s}.mode-toggle[data-v-9554d852]:checked{background:#007cba}.mode-toggle[data-v-9554d852]::before{content:"";position:absolute;top:2px;left:2px;width:16px;height:16px;background:#fff;border-radius:50%;transition:left .3s}.mode-toggle[data-v-9554d852]:checked::before{left:22px}.focus-button[data-v-9554d852]{padding:6px 12px;border:1px solid #007cba;border-radius:4px;background:#fff;color:#007cba;cursor:pointer;font-size:.9em;transition:all .2s}.focus-button[data-v-9554d852]:hover{background:#007cba;color:#fff}.focus-button.active[data-v-9554d852]{background:#007cba;color:#fff}.focus-hint[data-v-9554d852]{font-size:.85em;color:#666;font-style:italic}.period-label-cell.focused[data-v-9554d852]{background:#e6f7ff !important;border-left:4px solid #007cba}.period-label-cell[data-v-9554d852]{cursor:pointer;transition:background-color .2s}.period-label-cell[data-v-9554d852]:hover{background:#f0f7ff !important}.debug-grid-info[data-v-9554d852]{padding:8px 16px;background:#e8f5e8;border:1px solid #4caf50;border-radius:4px;margin-bottom:8px;font-family:monospace}.grid-hidden-debug[data-v-9554d852]{padding:20px;background:#ffebee;border:2px solid #f44336;border-radius:8px;margin:16px;text-align:center}.grid-hidden-message[data-v-9554d852]{color:#c62828;font-weight:bold;font-size:1.1em}.grid-hidden-message ul[data-v-9554d852]{text-align:left;display:inline-block;margin:12px 0;color:#666;font-weight:normal;font-size:.9em;font-family:monospace}.grid-hidden-message li[data-v-9554d852]{margin-bottom:6px}.emergency-show-btn[data-v-9554d852]{padding:12px 24px;background:#f44336;color:#fff;border:none;border-radius:6px;font-size:1em;font-weight:bold;cursor:pointer;margin-top:16px;transition:all .2s}.emergency-show-btn[data-v-9554d852]:hover{background:#d32f2f;transform:scale(1.05)}.main-grid-container[data-v-9554d852]{border:2px solid #4caf50;border-radius:6px;padding:4px}',""]);const i=s},932:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>i});var a=o(698),n=o.n(a),l=o(58),s=o.n(l)()(n());s.push([e.id,'.course-scheduler-wrapper[data-v-71b48c5a]{width:100%;min-height:500px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;position:relative}.scheduler-header[data-v-71b48c5a]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;background:#f8f9fa;border-bottom:1px solid #e0e0e0;border-radius:6px 6px 0 0}.scheduler-header h2[data-v-71b48c5a]{margin:0;color:#333;font-size:1.3em}.scheduler-header .scheduler-controls[data-v-71b48c5a]{display:flex;align-items:center;gap:16px}.scheduler-header .mode-indicator[data-v-71b48c5a]{padding:6px 12px;border-radius:4px;font-size:.9em;font-weight:500;background:#e6f7ff;color:#1890ff}.scheduler-header .mode-indicator.read-only[data-v-71b48c5a]{background:#fff2f0;color:#ff4d4f}.scheduler-header .header-actions[data-v-71b48c5a]{display:flex;gap:8px}.scheduler-header .undo-btn[data-v-71b48c5a],.scheduler-header .conflicts-btn[data-v-71b48c5a]{padding:6px 12px;border:1px solid #d9d9d9;border-radius:4px;background:#fff;cursor:pointer;font-size:.9em;transition:all .2s}.scheduler-header .undo-btn[data-v-71b48c5a]:disabled,.scheduler-header .conflicts-btn[data-v-71b48c5a]:disabled{opacity:.5;cursor:not-allowed}.scheduler-header .undo-btn[data-v-71b48c5a]:hover:not(:disabled),.scheduler-header .conflicts-btn[data-v-71b48c5a]:hover:not(:disabled){background:#f0f0f0;transform:translateY(-1px)}.scheduler-header .conflicts-btn.active[data-v-71b48c5a]{background:#ff4d4f;color:#fff;border-color:#ff4d4f}.scheduler-content[data-v-71b48c5a]{display:flex;gap:16px;position:relative}.conflicts-sidebar[data-v-71b48c5a]{width:400px;position:sticky;top:20px;height:fit-content}.test-data-section[data-v-71b48c5a]{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);background:#fff;padding:20px;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.15);z-index:2000;min-width:400px}.close-test[data-v-71b48c5a]{position:absolute;top:8px;right:12px;background:none;border:none;font-size:1.2em;cursor:pointer;color:#999}.test-info[data-v-71b48c5a]{margin-top:16px}.test-info>div[data-v-71b48c5a]{margin-bottom:8px;font-size:.9em}.test-button[data-v-71b48c5a]{margin-top:12px;padding:8px 16px;background:#007cba;color:#fff;border:none;border-radius:4px;cursor:pointer}.test-toggle[data-v-71b48c5a]{position:fixed;bottom:20px;right:20px;width:40px;height:40px;border:none;border-radius:50%;background:#007cba;color:#fff;font-size:1.2em;cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,.15);z-index:1000;transition:all .2s}.test-toggle[data-v-71b48c5a]:hover{transform:scale(1.1)}.debug-toggle[data-v-71b48c5a]{position:fixed;bottom:70px;right:20px;width:40px;height:40px;border:none;border-radius:50%;background:#ff6b6b;color:#fff;font-size:1.2em;cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,.15);z-index:1000;transition:all .2s}.debug-toggle[data-v-71b48c5a]:hover{transform:scale(1.1)}@media(max-width: 1200px){.conflicts-sidebar[data-v-71b48c5a]{width:350px}}@media(max-width: 900px){.scheduler-content[data-v-71b48c5a]{flex-direction:column}.conflicts-sidebar[data-v-71b48c5a]{width:100%;position:relative;top:auto}.scheduler-header[data-v-71b48c5a]{flex-direction:column;gap:12px;align-items:stretch}.scheduler-header .scheduler-controls[data-v-71b48c5a]{justify-content:space-between}.scheduler-header .header-actions[data-v-71b48c5a]{justify-content:center}}@media(max-width: 600px){.course-scheduler-wrapper[data-v-71b48c5a]{font-size:.9em}.test-data-section[data-v-71b48c5a]{width:90vw;min-width:unset}.test-toggle[data-v-71b48c5a]{bottom:10px;right:10px;width:35px;height:35px;font-size:1em}}@media(prefers-reduced-motion: reduce){[data-v-71b48c5a]{transition-duration:.01ms !important;animation-duration:.01ms !important}}@media(prefers-contrast: high){.scheduler-header[data-v-71b48c5a],.mode-indicator[data-v-71b48c5a],.undo-btn[data-v-71b48c5a],.conflicts-btn[data-v-71b48c5a]{border-width:2px}}@media print{.test-toggle[data-v-71b48c5a],.header-actions[data-v-71b48c5a],.conflicts-sidebar[data-v-71b48c5a]{display:none !important}.scheduler-header .mode-indicator.read-only[data-v-71b48c5a]::after{content:" (Read-Only)"}}',""]);const i=s},735:(e,t,o)=>{"use strict";function a(e,t){for(var o=[],a={},n=0;n<t.length;n++){var l=t[n],s=l[0],i={id:e+":"+n,css:l[1],media:l[2],sourceMap:l[3]};a[s]?a[s].parts.push(i):o.push(a[s]={id:s,parts:[i]})}return o}o.d(t,{Z:()=>g});var n="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l={},s=n&&(document.head||document.getElementsByTagName("head")[0]),i=null,r=0,d=!1,c=function(){},u=null,m="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function g(e,t,o,n){d=o,u=n||{};var s=a(e,t);return f(s),function(t){for(var o=[],n=0;n<s.length;n++){var i=s[n];(r=l[i.id]).refs--,o.push(r)}for(t?f(s=a(e,t)):s=[],n=0;n<o.length;n++){var r;if(0===(r=o[n]).refs){for(var d=0;d<r.parts.length;d++)r.parts[d]();delete l[r.id]}}}}function f(e){for(var t=0;t<e.length;t++){var o=e[t],a=l[o.id];if(a){a.refs++;for(var n=0;n<a.parts.length;n++)a.parts[n](o.parts[n]);for(;n<o.parts.length;n++)a.parts.push(v(o.parts[n]));a.parts.length>o.parts.length&&(a.parts.length=o.parts.length)}else{var s=[];for(n=0;n<o.parts.length;n++)s.push(v(o.parts[n]));l[o.id]={id:o.id,refs:1,parts:s}}}}function h(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function v(e){var t,o,a=document.querySelector("style["+m+'~="'+e.id+'"]');if(a){if(d)return c;a.parentNode.removeChild(a)}if(p){var n=r++;a=i||(i=h()),t=x.bind(null,a,n,!1),o=x.bind(null,a,n,!0)}else a=h(),t=k.bind(null,a),o=function(){a.parentNode.removeChild(a)};return t(e),function(a){if(a){if(a.css===e.css&&a.media===e.media&&a.sourceMap===e.sourceMap)return;t(e=a)}else o()}}var y,b=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function x(e,t,o,a){var n=o?"":a.css;if(e.styleSheet)e.styleSheet.cssText=b(t,n);else{var l=document.createTextNode(n),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(l,s[t]):e.appendChild(l)}}function k(e,t){var o=t.css,a=t.media,n=t.sourceMap;if(a&&e.setAttribute("media",a),u.ssrId&&e.setAttribute(m,t.id),n&&(o+="\n/*# sourceURL="+n.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}},58:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var o="",a=void 0!==t[5];return t[4]&&(o+="@supports (".concat(t[4],") {")),t[2]&&(o+="@media ".concat(t[2]," {")),a&&(o+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),o+=e(t),a&&(o+="}"),t[2]&&(o+="}"),t[4]&&(o+="}"),o}).join("")},t.i=function(e,o,a,n,l){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(a)for(var i=0;i<this.length;i++){var r=this[i][0];null!=r&&(s[r]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);a&&s[c[0]]||(void 0!==l&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=l),o&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=o):c[2]=o),n&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=n):c[4]="".concat(n)),t.push(c))}},t}},698:e=>{"use strict";e.exports=function(e){return e[1]}},20:(e,t)=>{"use strict";t.Z=(e,t)=>{const o=e.__vccOpts||e;for(const[e,a]of t)o[e]=a;return o}},405:(e,t,o)=>{var a=o(484);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,o(735).Z)("c76510a8",a,!1,{})},841:(e,t,o)=>{var a=o(580);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,o(735).Z)("05bbcece",a,!1,{})},947:(e,t,o)=>{var a=o(766);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,o(735).Z)("541f940f",a,!1,{})},455:(e,t,o)=>{var a=o(932);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,o(735).Z)("6eff1590",a,!1,{})}},t={};function o(a){var n=t[a];if(void 0!==n)return n.exports;var l=t[a]={id:a,exports:{}};return e[a](l,l.exports,o),l.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=Vue,t=t=>((0,e.pushScopeId)("data-v-71b48c5a"),t=t(),(0,e.popScopeId)(),t),a={class:"course-scheduler-wrapper"},n={class:"scheduler-header"},l=t(()=>(0,e.createElementVNode)("h2",null,"Course Scheduler",-1)),s={class:"scheduler-controls"},i={key:0,class:"header-actions"},r=["disabled"],d={class:"scheduler-content"},c={key:0,class:"conflicts-sidebar"},u={key:1,class:"test-data-section"},m=t(()=>(0,e.createElementVNode)("h3",null,"Component Test Data",-1)),p={class:"test-info"},g=t(()=>(0,e.createElementVNode)("strong",null,"School ID:",-1)),f=t(()=>(0,e.createElementVNode)("strong",null,"Draft ID:",-1)),h=t(()=>(0,e.createElementVNode)("strong",null,"Published By:",-1)),v=t(()=>(0,e.createElementVNode)("strong",null,"Data Counts:",-1)),y=t=>((0,e.pushScopeId)("data-v-9554d852"),t=t(),(0,e.popScopeId)(),t),b={class:"scheduler-grid",role:"grid","aria-label":"School schedule grid"},x={class:"scheduler-toolbar"},k={class:"toolbar-section"},C={class:"filter-label"},N={class:"filter-label"},E={class:"toolbar-section"},S={class:"mode-switcher"},_=y(()=>(0,e.createElementVNode)("span",null,"Planning Mode",-1)),V=y(()=>(0,e.createElementVNode)("span",null,"Live Mode",-1)),w={class:"toolbar-section"},D=y(()=>(0,e.createElementVNode)("option",{value:""},"All Years",-1)),B=["value"],I={class:"toolbar-section"},A=y(()=>(0,e.createElementVNode)("option",{value:""},"All Classes",-1)),T=["value"],P={class:"toolbar-section"},z={key:1,class:"focus-hint"},M={class:"toolbar-actions"},F=["disabled"],j={key:0,class:"emergency-recovery-notice"},R={class:"emergency-message"},L=y(()=>(0,e.createElementVNode)("strong",null,"Emergency Recovery Mode:",-1)),U={key:1,class:"debug-message-panel"},G=y(()=>(0,e.createElementVNode)("h3",null,"âš ï¸ Debug Information",-1)),$={class:"debug-messages"},O={key:0,class:"debug-warning"},Y=y(()=>(0,e.createElementVNode)("strong",null,"No School Days Found:",-1)),q={key:1,class:"debug-warning"},W=y(()=>(0,e.createElementVNode)("strong",null,"No Periods Visible:",-1)),H={class:"grid-header",role:"row"},Z={class:"period-header-cell",role:"columnheader"},J=y(()=>(0,e.createElementVNode)("span",{class:"period-label"},"Period",-1)),K={class:"debug-info"},Q=["aria-colindex"],X={class:"day-name"},ee={key:0,class:"day-date"},te={class:"debug-info"},oe={class:"grid-body"},ae=["aria-rowindex"],ne=["onClick"],le={class:"period-info"},se={class:"period-name"},ie={class:"period-time"},re={key:0,class:"non-instructional-badge"},de={class:"debug-info"},ce=["onClick","onKeydown","aria-label"],ue={key:0,class:"assignments-container"},me=["onClick"],pe={class:"assignment-content"},ge={class:"course-name"},fe={key:0,class:"class-name"},he={key:1,class:"teacher-names"},ve={key:2,class:"room-name"},ye={key:0,class:"conflict-indicator",title:"Has conflicts"},be={key:1,class:"deleted-warning",title:"Missing data"},xe=["onClick"],ke=["onClick"],Ce=[y(()=>(0,e.createElementVNode)("span",{class:"add-icon"},"+",-1)),y(()=>(0,e.createElementVNode)("span",{class:"add-text"},"Add Course",-1))],Ne={class:"grid-hidden-debug"},Ee={class:"grid-hidden-message"},Se={key:4,class:"available-courses-panel"},_e=y(()=>(0,e.createElementVNode)("div",{class:"focused-period-info"},[(0,e.createElementVNode)("em",null,"Courses that can be scheduled during this period on each day")],-1)),Ve={class:"day-courses-grid"},we={class:"available-courses-list"},De=["onClick","title"],Be={class:"course-name"},Ie={class:"course-details"},Ae={key:0},Te={key:1},Pe={key:2},ze={key:0,class:"no-courses"},Me={key:0,class:"no-preferred-days-panel"},Fe=y(()=>(0,e.createElementVNode)("h4",null,"ðŸ“… Courses with No Preferred Days",-1)),je=y(()=>(0,e.createElementVNode)("p",{class:"panel-description"},"These courses have no time slot restrictions and can be scheduled on any day:",-1)),Re={class:"no-preferred-courses-list"},Le=["onClick","title"],Ue={class:"course-name"},Ge={class:"course-details"},$e={key:0},Oe={key:1},Ye={key:2},qe=y(()=>(0,e.createElementVNode)("small",{class:"flexible-tag"},"ðŸ“… Flexible scheduling",-1)),We={key:5,class:"statistics-panel"},He=y(()=>(0,e.createElementVNode)("h3",null,"Schedule Statistics",-1)),Ze={class:"stats-grid"},Je={class:"stat-item"},Ke=y(()=>(0,e.createElementVNode)("span",{class:"stat-label"},"Scheduled Courses:",-1)),Qe={class:"stat-value"},Xe={class:"stat-item"},et=y(()=>(0,e.createElementVNode)("span",{class:"stat-label"},"Available Slots:",-1)),tt={class:"stat-value"},ot={class:"stat-item"},at=y(()=>(0,e.createElementVNode)("span",{class:"stat-label"},"Utilization:",-1)),nt={class:"stat-value"},lt={name:"SchedulerGrid",props:{periods:{type:Array,default:()=>[]},schoolDays:{type:Array,default:()=>[]},courses:{type:Array,default:()=>[]},teachers:{type:Array,default:()=>[]},classes:{type:Array,default:()=>[]},rooms:{type:Array,default:()=>[]},subjects:{type:Array,default:()=>[]},draftSchedules:{type:Array,default:()=>[]},liveSchedules:{type:Array,default:()=>[]},isReadOnly:{type:Boolean,default:!1},showStatistics:{type:Boolean,default:!0},maxDays:{type:Number,default:6},conflicts:{type:Array,default:()=>[]},canUndo:{type:Boolean,default:!1},isSaving:{type:Boolean,default:!1}},emits:["cell-click","assignment-details","toggle-non-instructional","toggle-lesson-schedules","filter-year","undo-last","save-draft","update-assignments","mode-changed","period-focus-changed"],setup(t,{emit:o}){const a=(0,e.ref)(!0),n=(0,e.ref)(!0),l=(0,e.ref)(!1),s=(0,e.ref)(""),i=(0,e.ref)(""),r=(0,e.ref)(null);console.log("ðŸš€ [SchedulerGrid] Component setup initialized with props:",{periodsCount:t.periods?.length||0,schoolDaysCount:t.schoolDays?.length||0,coursesCount:t.courses?.length||0,teachersCount:t.teachers?.length||0,classesCount:t.classes?.length||0,roomsCount:t.rooms?.length||0,draftSchedulesCount:t.draftSchedules?.length||0,maxDays:t.maxDays,isReadOnly:t.isReadOnly,showStatistics:t.showStatistics}),(0,e.watch)([()=>t.schoolDays,()=>t.periods],([e,o])=>{e&&0!==e.length||console.warn("âš ï¸ [SchedulerGrid] No school days found!",{schoolDays:e,schoolDaysType:typeof e,allProps:{periods:t.periods,schoolDays:t.schoolDays,courses:t.courses,teachers:t.teachers}}),o&&0!==o.length||console.warn("âš ï¸ [SchedulerGrid] No periods found!",{periods:o,periodsType:typeof o})},{immediate:!0});const d=(0,e.ref)([]),c=(0,e.ref)([]),u=(0,e.computed)(()=>{if(console.log("ðŸ—“ï¸ [SchedulerGrid] visibleDays computation START:",{schoolDaysCount:t.schoolDays?.length||0,maxDays:t.maxDays,lastValidDaysCount:d.value.length}),!t.schoolDays)return console.warn("âš ï¸ [SchedulerGrid] schoolDays prop is undefined during reactive update, using last valid state"),d.value;if(0===t.schoolDays.length)return console.warn("âš ï¸ [SchedulerGrid] No school days available"),d.value.length>0?(console.warn("âš ï¸ [SchedulerGrid] Using last valid days to prevent component disappearing"),d.value):[];const e=t.schoolDays.slice(0,t.maxDays);if(console.log("ðŸ—“ï¸ [SchedulerGrid] visibleDays computed:",{totalSchoolDays:t.schoolDays.length,maxDays:t.maxDays,visibleDaysCount:e.length,visibleDaysIds:e.map(e=>({id:e.id,name:e.name})),draftSchedulesCount:t.draftSchedules?.length||0,sampleDayIds:t.draftSchedules?.slice(0,3).map(e=>({day_id:e.day_id,period_id:e.period_id}))||[]}),0===e.length&&t.schoolDays.length>0){console.warn("âš ï¸ [SchedulerGrid] visibleDays resulted in 0 days! Falling back to showing at least first day");const e=t.schoolDays.slice(0,1);return d.value=e,e}return e.length>0&&(d.value=e),e}),m=(0,e.computed)(()=>{if(console.log("ðŸ“… [SchedulerGrid] visiblePeriods computation START:",{showNonInstructional:a.value,focusedPeriodId:r.value,totalPeriodsCount:t.periods?.length||0,lastValidPeriodsCount:c.value.length}),!t.periods)return console.warn("âš ï¸ [SchedulerGrid] periods prop is undefined during reactive update, using last valid state"),c.value;if(0===t.periods.length)return console.warn("âš ï¸ [SchedulerGrid] No periods available"),c.value.length>0?(console.warn("âš ï¸ [SchedulerGrid] Using last valid periods to prevent component disappearing"),c.value):[];let o=t.periods;if(r.value?(console.log("ðŸ“… [SchedulerGrid] Filtering to focused period:",r.value),o=t.periods.filter(e=>e.id===r.value)):a.value?console.log("ðŸ“… [SchedulerGrid] Showing ALL periods (including non-instructional)"):(console.log("ðŸ“… [SchedulerGrid] Filtering to show periods with flexible or required attendance"),o=t.periods.filter(e=>{let t="flexible"===e.attendance_requirement||"required"===e.attendance_requirement;if(t||e.attendance_requirement)!t&&e.attendance_requirement&&"optional"!==e.attendance_requirement&&(t=!0);else if(void 0!==e.is_instructional)t=!0===e.is_instructional;else if(e.block_type)t=!["break","pause","lunch","recess","assembly","flexband","frÃ¼hdienst"].includes(e.block_type.toLowerCase());else if(e.label||e.name){const o=(e.label||e.name).toLowerCase();t=!(o.includes("break")||o.includes("pause")||o.includes("lunch")||o.includes("flexband")||o.includes("frÃ¼hdienst")||o.includes("benutzerdefiniert"))}else t=!0;return console.log(`  Period "${e.name||e.label}" (id: ${e.id}):`,{attendance_requirement:e.attendance_requirement,block_type:e.block_type,is_instructional:e.is_instructional,label:e.label,name:e.name,shouldShow:t,type:e.type}),t})),0===o.length&&t.periods.length>0){if(console.warn("âš ï¸ [SchedulerGrid] Filtering resulted in 0 periods! Implementing emergency recovery"),c.value.length>0)return console.warn("ðŸš¨ [SchedulerGrid] Using last valid periods to prevent component disappearing"),c.value;console.warn("ðŸš¨ [SchedulerGrid] EMERGENCY: Showing all periods to prevent component disappearance"),o=t.periods,(0,e.nextTick)(()=>{a.value=!0,console.log("ðŸš¨ [SchedulerGrid] Updated showNonInstructional to true to prevent future filtering issues")})}return o.length>0&&(c.value=o),console.log("ðŸ“… [SchedulerGrid] visiblePeriods computed RESULT:",{filteredPeriodsCount:o.length,originalPeriodsCount:t.periods.length,periods:o.map(e=>({id:e.id,name:e.name||e.label,block_type:e.block_type,attendance_requirement:e.attendance_requirement,is_instructional:e.is_instructional,type:e.type}))}),o}),p=(0,e.computed)(()=>{const e=new Set;return t.classes.forEach(t=>{t.year_group&&e.add(t.year_group)}),Array.from(e).sort()}),g=(0,e.computed)(()=>s.value?t.classes.filter(e=>e.year_group===s.value):t.classes.slice().sort((e,t)=>e.name.localeCompare(t.name))),f=(0,e.computed)(()=>p.value.map(e=>{const o=t.classes.filter(t=>t.year_group===e),a=t.draftSchedules.filter(e=>o.some(t=>t.id===e.class_id)),n=m.value.length*u.value.length*o.length,l=a.length,s=l/u.value.length,i=n>0?l/n*100:0;return{year:e,scheduledCourses:Math.round(s),availableSlots:n,utilization:i}}));function h(e,o){const a=l.value?t.liveSchedules:t.draftSchedules;console.log("ðŸŽ¯ [SchedulerGrid] getCellAssignments data source:",{dayId:e,periodId:o,isLiveMode:l.value,dataSource:l.value?"liveSchedules":"draftSchedules",scheduleDataCount:a.length,draftSchedulesCount:t.draftSchedules.length,liveSchedulesCount:t.liveSchedules.length});let s=a.filter(a=>{const n=t.schoolDays.find(t=>t.id===e||t.day_id===e),l=a.day_id===e||a.day_id===n?.day_id||a.day_id===n?.id||a.day_number===n?.day_number,i=a.period_id===o;return 0===s.length&&console.log("ðŸ” [SchedulerGrid] Assignment matching debug:",{assignmentDayId:a.day_id,assignmentDayNumber:a.day_number,assignmentPeriodId:a.period_id,lookingForDayId:e,lookingForPeriodId:o,currentDay:n,assignmentDayMatch:l,periodMatch:i,assignment:a}),l&&i});n.value||(s=s.filter(e=>e.course_id)),i.value&&(s=s.filter(e=>e.class_id===i.value));const r=s.sort((e,t)=>{const o=x(e.class_id),a=x(t.class_id);if(o!==a)return o.localeCompare(a);const n=v(e.course_id)||y(e.subject_id),l=v(t.course_id)||y(t.subject_id);return n.localeCompare(l)});return r.length>0&&console.log(`ðŸŽ¯ [SchedulerGrid] getCellAssignments(${e}, ${o}):`,{assignmentsFound:r.length,assignments:r,sampleAssignment:r[0],isLiveMode:l.value,showLessonSchedules:n.value}),r}function v(e){if(!e)return console.log("âš ï¸ [SchedulerGrid] getCourseName: No courseId provided"),null;const o=t.courses.find(t=>t.id===e),a=o?.name||o?.course_name||o?.title;return o?(console.log("âœ… [SchedulerGrid] getCourseName found course:",{courseId:e,courseName:a,course:o}),a||null):(console.log("âš ï¸ [SchedulerGrid] getCourseName: Course not found for ID:",e,{availableCourses:t.courses.length,sampleCourseIds:t.courses.slice(0,3).map(e=>e.id)}),null)}function y(e){if(!e)return null;const o=t.subjects.find(t=>t.id===e);return o?.name||o?.title||o?.subject_name||`Subject ${e}`}function b(e){const t=v(e.course_id);if(t)return t;return y(e.subject_id)||"No Course"}function x(e){if(!e)return"";const o=t.classes.find(t=>t.id===e);return o?.name||"No Class"}function k(e){return t.conflicts.some(t=>t.day_id===e.day_id&&t.period_id===e.period_id&&(t.assignment_id===e.id||t.teacher_ids?.some(t=>e.teacher_ids?.includes(t))||t.class_id===e.class_id||t.room_id===e.room_id))}function C(e){const o=!e.course_id||t.courses.some(t=>t.id===e.course_id),a=!e.class_id||t.classes.some(t=>t.id===e.class_id),n=!e.room_id||t.rooms.some(t=>t.id===e.room_id),l=!e.teacher_ids?.length||e.teacher_ids.every(e=>t.teachers.some(t=>t.id===e));return!(o&&a&&n&&l)}function N(e,a,n){t.isReadOnly||(console.log("ðŸŽ¯ [SchedulerGrid] Assigning course to slot:",{courseId:e.id,courseName:e.name||e.course_name,dayId:a,periodId:n}),o("cell-click",{dayId:a,periodId:n,period:t.periods.find(e=>e.id===n),preSelectedCourse:e}))}console.log("ðŸ”„ [SchedulerGrid] Setting up enhanced lifecycle tracking..."),(0,e.watch)([u,m],([e,o],[n,l])=>{console.log("ðŸ”„ [SchedulerGrid] Critical computed properties changed:",{visibleDays:{old:n?.length||0,new:e?.length||0,names:e?.map(e=>e.name).join(", ")||"none"},visiblePeriods:{old:l?.length||0,new:o?.length||0,names:o?.map(e=>e.name||e.label).join(", ")||"none"},gridWillBeVisible:e?.length>0&&o?.length>0,showNonInstructional:a.value,focusedPeriodId:r.value}),(0===e?.length||0===o?.length)&&n?.length>0&&l?.length>0&&console.error("ðŸš¨ [SchedulerGrid] GRID BECAME INVISIBLE! Debug info:",{showNonInstructional:a.value,focusedPeriodId:r.value,rawPeriodsCount:t.periods?.length||0,rawDaysCount:t.schoolDays?.length||0,samplePeriod:t.periods?.[0]||null,sampleDay:t.schoolDays?.[0]||null})},{immediate:!0}),(0,e.watch)(()=>t.periods,(e,t)=>{console.log("ðŸ”„ [SchedulerGrid] Periods prop changed:",{old:t?.length||0,new:e?.length||0,samplePeriod:e?.[0]||null})},{immediate:!0}),(0,e.watch)(()=>t.schoolDays,(e,t)=>{console.log("ðŸ”„ [SchedulerGrid] School days prop changed:",{old:t?.length||0,new:e?.length||0,sampleDay:e?.[0]||null})},{immediate:!0});const E=()=>{const e=u.value.length>0,o=m.value.length>0,n=e&&o,l=d.value.length>0&&u.value===d.value||c.value.length>0&&m.value===c.value;return console.log("ðŸ©º [SchedulerGrid] Emergency health check:",{visibleDays:u.value.length,visiblePeriods:m.value.length,gridVisible:n,usingEmergencyMode:l,showNonInstructional:a.value,focusedPeriodId:r.value,rawPeriodsCount:t.periods?.length||0,rawDaysCount:t.schoolDays?.length||0,lastValidDaysCount:d.value.length,lastValidPeriodsCount:c.value.length}),n};return setTimeout(()=>{E()},100),{showNonInstructional:a,showLessonSchedules:n,isLiveMode:l,selectedYearFilter:s,selectedClassFilter:i,focusedPeriodId:r,lastValidDays:d,lastValidPeriods:c,visibleDays:u,visiblePeriods:m,yearGroups:p,availableClasses:g,yearGroupStats:f,formatTime:function(e){if(!e)return"";const t=e.split(":");return t.length>=2?`${t[0]}:${t[1]}`:e},formatDate:function(e){return e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}):""},getCellAssignments:h,getCellClasses:function(e,o){const a=h(e,o),n=[];return a.length>0&&(n.push("has-assignments"),a.length>1&&n.push("multiple-assignments")),a.some(a=>t.conflicts.some(t=>t.day_id===e&&t.period_id===o))&&n.push("has-conflicts"),n},getCellAriaLabel:function(e,t){const o=h(e.id,t.id);if(0===o.length)return`${e.name} ${t.name}: Empty, click to add assignment`;const a=o.map(e=>b(e)).join(", ");return`${e.name} ${t.name}: ${a}, ${o.length} assignment${o.length>1?"s":""}`},getAssignmentClasses:function(e){const t=[];return k(e)&&t.push("has-conflict"),C(e)&&t.push("has-deleted-entities"),!v(e.course_id)&&e.subject_id&&t.push("lesson-schedule"),t},getAssignmentStyles:function(e){const o=t.courses.find(t=>t.id===e.course_id),a=t.classes.find(t=>t.id===e.class_id);return{borderLeft:`4px solid ${o?.color||a?.color||"#e0e0e0"}`,backgroundColor:o?.color?`${o.color}15`:a?.color?`${a.color}15`:"#f9f9f9"}},getCourseName:v,getSubjectName:y,getDisplayName:b,getClassName:x,getTeacherNames:function(e){return e?.length?e.map(e=>{const o=t.teachers.find(t=>t.id===e);return o?.name||"Unknown Teacher"}).join(", "):"No Teacher"},getRoomName:function(e){if(!e)return"No Room";const o=t.rooms.find(t=>t.id===e);return o?.name||"Unknown Room"},hasConflicts:k,hasDeletedEntities:C,handleCellClick:function(e,a,n){t.isReadOnly||o("cell-click",{dayId:e,periodId:a,period:n})},openAssignmentModal:function(e,a,n){t.isReadOnly||o("cell-click",{dayId:e,periodId:a,period:n,mode:"add"})},openAssignmentDetails:function(e){o("assignment-details",e)},handleLessonScheduleToggle:function(){console.log("ðŸ“Š [SchedulerGrid] Lesson schedules toggled:",n.value),o("toggle-lesson-schedules",n.value)},handleClassFilterChange:function(){console.log("ðŸŽ“ [SchedulerGrid] Class filter changed:",i.value)},handleModeSwitch:function(){console.log("ðŸ”„ [SchedulerGrid] Mode switched:",l.value?"Live":"Planning"),o("mode-changed",l.value?"live":"planning")},togglePeriodFocus:function(e){r.value===e?r.value=null:r.value=e,console.log("ðŸŽ¯ [SchedulerGrid] Period focus changed:",r.value),o("period-focus-changed",r.value)},clearPeriodFocus:function(){r.value=null,console.log("ðŸŽ¯ [SchedulerGrid] Period focus cleared"),o("period-focus-changed",null)},getFocusedPeriodName:function(){const e=t.periods.find(e=>e.id===r.value);return e?.name||e?.label||"Unknown Period"},getAvailableCoursesForSlot:function(e,o){const a=t.schoolDays.find(t=>t.id===e||t.day_id===e);let n=a?.day_number;if(!n){const o=t.schoolDays.findIndex(t=>t.id===e||t.day_id===e);n=o>=0?o+1:null}console.log("ðŸŽ¯ [SchedulerGrid] getAvailableCoursesForSlot:",{dayId:e,periodId:o,currentDay:a,currentDayNumber:n,coursesTotal:t.courses.length});const l=t.courses.filter(t=>!t.possible_time_slots?.length||t.possible_time_slots.some(t=>{if("string"==typeof t&&t.includes("|")){const[e,a]=t.split("|");return parseInt(e)===n&&a===o}return"object"==typeof t&&t.day_id===e&&t.period_id===o}));return console.log("ðŸŽ¯ [SchedulerGrid] Available courses for slot:",{dayId:e,periodId:o,availableCount:l.length,courses:l.map(e=>({id:e.id,name:e.name||e.course_name}))}),l},getCourseCardStyle:function(e){return{borderLeft:`4px solid ${e.color||"#007cba"}`,backgroundColor:e.color?`${e.color}15`:"#f0f8ff"}},assignCourseToSlot:N,getNoPreferredDaysCourses:function(){return t.courses.filter(e=>!e.possible_time_slots||0===e.possible_time_slots.length)},assignCourseToFocusedSlot:function(e){if(t.isReadOnly||!r.value)return;const o=u.value[0];o&&N(e,o.id,r.value)},emergencyCheck:E,emergencyRecover:()=>{console.log("ðŸš¨ [SchedulerGrid] EMERGENCY RECOVERY ACTIVATED!"),a.value=!0,r.value=null,d.value=[],c.value=[],(0,e.nextTick)(()=>{console.log("ðŸš¨ [SchedulerGrid] Emergency recovery completed, data should be visible"),E()})}}}};o(947);var st=o(20);const it=(0,st.Z)(lt,[["render",function(t,o,a,n,l,s){return(0,e.openBlock)(),(0,e.createElementBlock)("div",b,[(0,e.createCommentVNode)(" Toolbar "),(0,e.createElementVNode)("div",x,[(0,e.createElementVNode)("div",k,[(0,e.createElementVNode)("label",C,[(0,e.withDirectives)((0,e.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=e=>n.showNonInstructional=e),onChange:o[1]||(o[1]=e=>t.$emit("toggle-non-instructional",n.showNonInstructional))},null,544),[[e.vModelCheckbox,n.showNonInstructional]]),(0,e.createTextVNode)(" Show Non-Instructional Blocks ")]),(0,e.createElementVNode)("label",N,[(0,e.withDirectives)((0,e.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":o[2]||(o[2]=e=>n.showLessonSchedules=e),onChange:o[3]||(o[3]=(...e)=>n.handleLessonScheduleToggle&&n.handleLessonScheduleToggle(...e))},null,544),[[e.vModelCheckbox,n.showLessonSchedules]]),(0,e.createTextVNode)(" Show Lesson Schedules (No Course) ")])]),(0,e.createElementVNode)("div",E,[(0,e.createElementVNode)("label",S,[_,(0,e.withDirectives)((0,e.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":o[4]||(o[4]=e=>n.isLiveMode=e),onChange:o[5]||(o[5]=(...e)=>n.handleModeSwitch&&n.handleModeSwitch(...e)),class:"mode-toggle"},null,544),[[e.vModelCheckbox,n.isLiveMode]]),V])]),(0,e.createElementVNode)("div",w,[(0,e.withDirectives)((0,e.createElementVNode)("select",{"onUpdate:modelValue":o[6]||(o[6]=e=>n.selectedYearFilter=e),onChange:o[7]||(o[7]=e=>t.$emit("filter-year",n.selectedYearFilter))},[D,((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.yearGroups,t=>((0,e.openBlock)(),(0,e.createElementBlock)("option",{key:t,value:t},(0,e.toDisplayString)(t),9,B))),128))],544),[[e.vModelSelect,n.selectedYearFilter]])]),(0,e.createElementVNode)("div",I,[(0,e.withDirectives)((0,e.createElementVNode)("select",{"onUpdate:modelValue":o[8]||(o[8]=e=>n.selectedClassFilter=e),onChange:o[9]||(o[9]=(...e)=>n.handleClassFilterChange&&n.handleClassFilterChange(...e))},[A,((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.availableClasses,t=>((0,e.openBlock)(),(0,e.createElementBlock)("option",{key:t.id,value:t.id},(0,e.toDisplayString)(t.name),9,T))),128))],544),[[e.vModelSelect,n.selectedClassFilter]])]),(0,e.createElementVNode)("div",P,[n.focusedPeriodId?((0,e.openBlock)(),(0,e.createElementBlock)("button",{key:0,onClick:o[10]||(o[10]=(...e)=>n.clearPeriodFocus&&n.clearPeriodFocus(...e)),class:"focus-button active",title:"Show all periods"}," Show All Periods (Currently: "+(0,e.toDisplayString)(n.getFocusedPeriodName())+") ",1)):((0,e.openBlock)(),(0,e.createElementBlock)("span",z,"Click a period name to focus on that period and see available courses"))]),(0,e.createElementVNode)("div",M,[(0,e.createElementVNode)("button",{onClick:o[11]||(o[11]=e=>t.$emit("undo-last")),disabled:!a.canUndo,class:"undo-button",title:"Undo last change"}," â†¶ Undo ",8,F),(0,e.createElementVNode)("button",{onClick:o[12]||(o[12]=e=>t.$emit("save-draft")),class:(0,e.normalizeClass)(["save-button",{saving:a.isSaving}])},(0,e.toDisplayString)(a.isSaving?"Saving...":"Save Draft"),3)])]),(0,e.createCommentVNode)(" Emergency Recovery Indicator "),n.lastValidDays.length>0&&n.visibleDays===n.lastValidDays||n.lastValidPeriods.length>0&&n.visiblePeriods===n.lastValidPeriods?((0,e.openBlock)(),(0,e.createElementBlock)("div",j,[(0,e.createElementVNode)("div",R,[(0,e.createTextVNode)(" ðŸš¨ "),L,(0,e.createTextVNode)(" Component temporarily using cached data to prevent disappearing. "),(0,e.createElementVNode)("button",{onClick:o[13]||(o[13]=(...e)=>n.emergencyRecover&&n.emergencyRecover(...e)),class:"emergency-recover-btn"},"ðŸš¨ Emergency: Show All Data")])])):(0,e.createCommentVNode)("v-if",!0),0===n.visibleDays.length||0===n.visiblePeriods.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",U,[G,(0,e.createElementVNode)("div",$,[0===n.visibleDays.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",O,[Y,(0,e.createElementVNode)("ul",null,[(0,e.createElementVNode)("li",null,"Raw schoolDays prop: "+(0,e.toDisplayString)(JSON.stringify(a.schoolDays)),1),(0,e.createElementVNode)("li",null,"schoolDays length: "+(0,e.toDisplayString)(a.schoolDays.length),1),(0,e.createElementVNode)("li",null,"maxDays setting: "+(0,e.toDisplayString)(a.maxDays),1)])])):(0,e.createCommentVNode)("v-if",!0),0===n.visiblePeriods.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",q,[W,(0,e.createElementVNode)("ul",null,[(0,e.createElementVNode)("li",null,"Raw periods prop: "+(0,e.toDisplayString)(JSON.stringify(a.periods)),1),(0,e.createElementVNode)("li",null,"periods length: "+(0,e.toDisplayString)(a.periods.length),1),(0,e.createElementVNode)("li",null,"showNonInstructional: "+(0,e.toDisplayString)(n.showNonInstructional),1),(0,e.createElementVNode)("li",null,"Filtered periods count: "+(0,e.toDisplayString)(n.visiblePeriods.length),1)])])):(0,e.createCommentVNode)("v-if",!0)])])):(0,e.createCommentVNode)("v-if",!0),(0,e.createCommentVNode)(" Main Grid (only show if we have data) "),n.visibleDays.length>0&&n.visiblePeriods.length>0?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:2,class:(0,e.normalizeClass)(["main-grid-container",{"emergency-mode":n.lastValidDays.length>0&&n.visibleDays===n.lastValidDays||n.lastValidPeriods.length>0&&n.visiblePeriods===n.lastValidPeriods,"normal-mode":!(n.lastValidDays.length>0&&n.visibleDays===n.lastValidDays||n.lastValidPeriods.length>0&&n.visiblePeriods===n.lastValidPeriods)}])},[(0,e.createCommentVNode)(" Debug info for main grid with visibility status "),(0,e.createElementVNode)("div",{class:"debug-grid-info",style:(0,e.normalizeStyle)({color:n.lastValidDays.length>0&&n.visibleDays===n.lastValidDays||n.lastValidPeriods.length>0&&n.visiblePeriods===n.lastValidPeriods?"#e74c3c":"#27ae60"})},[(0,e.createElementVNode)("small",null,(0,e.toDisplayString)(n.lastValidDays.length>0&&n.visibleDays===n.lastValidDays||n.lastValidPeriods.length>0&&n.visiblePeriods===n.lastValidPeriods?"ðŸš¨ EMERGENCY MODE":"âœ… NORMAL MODE")+" - Days: "+(0,e.toDisplayString)(n.visibleDays.length)+", Periods: "+(0,e.toDisplayString)(n.visiblePeriods.length)+" | Drafts: "+(0,e.toDisplayString)(a.draftSchedules.length)+", Live: "+(0,e.toDisplayString)(a.liveSchedules.length)+" | Mode: "+(0,e.toDisplayString)(n.isLiveMode?"Live":"Planning"),1)],4),(0,e.createCommentVNode)(" Grid Header with Days "),(0,e.createElementVNode)("div",H,[(0,e.createElementVNode)("div",Z,[J,(0,e.createElementVNode)("div",K,[(0,e.createElementVNode)("small",null,"Days: "+(0,e.toDisplayString)(n.visibleDays.length)+", Periods: "+(0,e.toDisplayString)(n.visiblePeriods.length),1)])]),((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.visibleDays,(t,o)=>((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:t.id,class:"day-header-cell",role:"columnheader","aria-colindex":o+1},[(0,e.createElementVNode)("span",X,(0,e.toDisplayString)(t.name),1),t.date?((0,e.openBlock)(),(0,e.createElementBlock)("span",ee,(0,e.toDisplayString)(n.formatDate(t.date)),1)):(0,e.createCommentVNode)("v-if",!0),(0,e.createElementVNode)("div",te,[(0,e.createElementVNode)("small",null,"ID: "+(0,e.toDisplayString)(t.id),1)])],8,Q))),128))]),(0,e.createCommentVNode)(" Grid Body "),(0,e.createElementVNode)("div",oe,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.visiblePeriods,(t,o)=>((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:t.id,class:(0,e.normalizeClass)(["grid-row",{"non-instructional":!t.is_instructional}]),role:"row","aria-rowindex":o+1},[(0,e.createCommentVNode)(" Period Label "),(0,e.createElementVNode)("div",{class:(0,e.normalizeClass)(["period-label-cell",{focused:n.focusedPeriodId===t.id}]),role:"rowheader",onClick:e=>n.togglePeriodFocus(t.id),title:"Click to focus on this period"},[(0,e.createElementVNode)("div",le,[(0,e.createElementVNode)("span",se,(0,e.toDisplayString)(t.name),1),(0,e.createElementVNode)("span",ie,(0,e.toDisplayString)(n.formatTime(t.start_time))+" - "+(0,e.toDisplayString)(n.formatTime(t.end_time)),1),t.is_instructional?(0,e.createCommentVNode)("v-if",!0):((0,e.openBlock)(),(0,e.createElementBlock)("span",re,(0,e.toDisplayString)(t.type||"Break"),1)),(0,e.createElementVNode)("div",de,[(0,e.createElementVNode)("small",null,"ID: "+(0,e.toDisplayString)(t.id)+", Instructional: "+(0,e.toDisplayString)(!1!==t.is_instructional?"Yes":"No"),1)])])],10,ne),(0,e.createCommentVNode)(" Day Cells "),((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.visibleDays,o=>((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:`${t.id}-${o.id}`,class:(0,e.normalizeClass)(["schedule-cell",n.getCellClasses(o.id,t.id)]),role:"gridcell",tabindex:"0",onClick:e=>n.handleCellClick(o.id,t.id,t),onKeydown:[(0,e.withKeys)(e=>n.handleCellClick(o.id,t.id,t),["enter"]),(0,e.withKeys)((0,e.withModifiers)(e=>n.handleCellClick(o.id,t.id,t),["prevent"]),["space"])],"aria-label":n.getCellAriaLabel(o,t),draggable:!1,"data-drag-disabled":"true"},[(0,e.createCommentVNode)(" Multiple Assignments Display "),n.getCellAssignments(o.id,t.id).length>0?((0,e.openBlock)(),(0,e.createElementBlock)("div",ue,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.getCellAssignments(o.id,t.id),(t,o)=>((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:o,class:(0,e.normalizeClass)(["assignment-item",n.getAssignmentClasses(t)]),style:(0,e.normalizeStyle)(n.getAssignmentStyles(t)),onClick:(0,e.withModifiers)(e=>n.openAssignmentDetails(t),["stop"])},[(0,e.createElementVNode)("div",pe,[(0,e.createElementVNode)("span",ge,(0,e.toDisplayString)(n.getDisplayName(t)),1),t.class_id?((0,e.openBlock)(),(0,e.createElementBlock)("span",fe,(0,e.toDisplayString)(n.getClassName(t.class_id)),1)):(0,e.createCommentVNode)("v-if",!0),t.teacher_ids?.length?((0,e.openBlock)(),(0,e.createElementBlock)("span",he,(0,e.toDisplayString)(n.getTeacherNames(t.teacher_ids)),1)):(0,e.createCommentVNode)("v-if",!0),t.room_id?((0,e.openBlock)(),(0,e.createElementBlock)("span",ve,(0,e.toDisplayString)(n.getRoomName(t.room_id)),1)):(0,e.createCommentVNode)("v-if",!0)]),(0,e.createCommentVNode)(" Conflict Indicators "),n.hasConflicts(t)?((0,e.openBlock)(),(0,e.createElementBlock)("div",ye," âš ï¸ ")):(0,e.createCommentVNode)("v-if",!0),(0,e.createCommentVNode)(" Deleted Entity Warnings "),n.hasDeletedEntities(t)?((0,e.openBlock)(),(0,e.createElementBlock)("div",be," âŒ ")):(0,e.createCommentVNode)("v-if",!0)],14,me))),128)),(0,e.createCommentVNode)(" Add More Button for cells with assignments "),(0,e.createElementVNode)("button",{class:"add-more-button",onClick:(0,e.withModifiers)(e=>n.openAssignmentModal(o.id,t.id,t),["stop"]),title:"Add another assignment"}," + ",8,xe)])):((0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,{key:1},[(0,e.createCommentVNode)(" Empty Cell "),(0,e.createElementVNode)("div",{class:"empty-cell",onClick:e=>n.openAssignmentModal(o.id,t.id,t)},Ce,8,ke)],2112))],42,ce))),128))],10,ae))),128))])],2)):((0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,{key:3},[(0,e.createCommentVNode)(" Debug info when grid is hidden "),(0,e.createElementVNode)("div",Ne,[(0,e.createElementVNode)("div",Ee,[(0,e.createTextVNode)(" âŒ Grid Hidden - Debug Info: "),(0,e.createElementVNode)("ul",null,[(0,e.createElementVNode)("li",null,"Visible Days: "+(0,e.toDisplayString)(n.visibleDays.length)+" ("+(0,e.toDisplayString)(n.visibleDays.map(e=>e.name).join(", "))+")",1),(0,e.createElementVNode)("li",null,"Visible Periods: "+(0,e.toDisplayString)(n.visiblePeriods.length)+" ("+(0,e.toDisplayString)(n.visiblePeriods.map(e=>e.name||e.label).join(", "))+")",1),(0,e.createElementVNode)("li",null,"Show Non-Instructional: "+(0,e.toDisplayString)(n.showNonInstructional),1),(0,e.createElementVNode)("li",null,"Focused Period: "+(0,e.toDisplayString)(n.focusedPeriodId),1),(0,e.createElementVNode)("li",null,"Total Periods Available: "+(0,e.toDisplayString)(a.periods.length),1),(0,e.createElementVNode)("li",null,"Total School Days Available: "+(0,e.toDisplayString)(a.schoolDays.length),1)]),(0,e.createElementVNode)("button",{onClick:o[14]||(o[14]=e=>{n.showNonInstructional=!0,n.focusedPeriodId=null}),class:"emergency-show-btn"}," ðŸš¨ Emergency: Show All Data ")])])],2112)),(0,e.createCommentVNode)(" Available Courses for Focused Period "),n.focusedPeriodId?((0,e.openBlock)(),(0,e.createElementBlock)("div",Se,[(0,e.createElementVNode)("h3",null,"Available Courses for "+(0,e.toDisplayString)(n.getFocusedPeriodName()),1),_e,(0,e.createElementVNode)("div",Ve,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.visibleDays,t=>((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:t.id,class:"day-courses-column"},[(0,e.createElementVNode)("h4",null,(0,e.toDisplayString)(t.name),1),(0,e.createElementVNode)("div",we,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.getAvailableCoursesForSlot(t.id,n.focusedPeriodId),o=>((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:o.id,class:"course-card",style:(0,e.normalizeStyle)(n.getCourseCardStyle(o)),onClick:e=>n.assignCourseToSlot(o,t.id,n.focusedPeriodId),title:`Click to assign ${o.name||o.course_name} to ${t.name} ${n.getFocusedPeriodName()}`,draggable:!0,"data-course-id":"course.id","data-drag-enabled":"true"},[(0,e.createElementVNode)("div",Be,(0,e.toDisplayString)(o.name||o.course_name||o.title),1),(0,e.createElementVNode)("div",Ie,[o.course_code?((0,e.openBlock)(),(0,e.createElementBlock)("small",Ae,"Code: "+(0,e.toDisplayString)(o.course_code),1)):(0,e.createCommentVNode)("v-if",!0),o.max_students?((0,e.openBlock)(),(0,e.createElementBlock)("small",Te,"Max: "+(0,e.toDisplayString)(o.max_students),1)):(0,e.createCommentVNode)("v-if",!0),o.subject_name?((0,e.openBlock)(),(0,e.createElementBlock)("small",Pe,(0,e.toDisplayString)(o.subject_name),1)):(0,e.createCommentVNode)("v-if",!0)])],12,De))),128)),0===n.getAvailableCoursesForSlot(t.id,n.focusedPeriodId).length?((0,e.openBlock)(),(0,e.createElementBlock)("div",ze," No courses available for this day/period ")):(0,e.createCommentVNode)("v-if",!0)])]))),128))]),(0,e.createCommentVNode)(" No Preferred Days Courses Panel "),n.getNoPreferredDaysCourses().length>0?((0,e.openBlock)(),(0,e.createElementBlock)("div",Me,[Fe,je,(0,e.createElementVNode)("div",Re,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.getNoPreferredDaysCourses(),t=>((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:`no-pref-${t.id}`,class:"course-card",style:(0,e.normalizeStyle)(n.getCourseCardStyle(t)),onClick:e=>n.assignCourseToFocusedSlot(t),title:`${t.name||t.course_name} - Can be scheduled on any day`},[(0,e.createElementVNode)("div",Ue,(0,e.toDisplayString)(t.name||t.course_name||t.title),1),(0,e.createElementVNode)("div",Ge,[t.course_code?((0,e.openBlock)(),(0,e.createElementBlock)("small",$e,"Code: "+(0,e.toDisplayString)(t.course_code),1)):(0,e.createCommentVNode)("v-if",!0),t.max_students?((0,e.openBlock)(),(0,e.createElementBlock)("small",Oe,"Max: "+(0,e.toDisplayString)(t.max_students),1)):(0,e.createCommentVNode)("v-if",!0),t.subject_name?((0,e.openBlock)(),(0,e.createElementBlock)("small",Ye,(0,e.toDisplayString)(t.subject_name),1)):(0,e.createCommentVNode)("v-if",!0),qe])],12,Le))),128))])])):(0,e.createCommentVNode)("v-if",!0)])):(0,e.createCommentVNode)("v-if",!0),(0,e.createCommentVNode)(" Statistics Panel (if enabled) "),a.showStatistics?((0,e.openBlock)(),(0,e.createElementBlock)("div",We,[He,(0,e.createElementVNode)("div",Ze,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.yearGroupStats,t=>((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:t.year,class:"year-stats"},[(0,e.createElementVNode)("h4",null,(0,e.toDisplayString)(t.year),1),(0,e.createElementVNode)("div",Je,[Ke,(0,e.createElementVNode)("span",Qe,(0,e.toDisplayString)(t.scheduledCourses)+"/day",1)]),(0,e.createElementVNode)("div",Xe,[et,(0,e.createElementVNode)("span",tt,(0,e.toDisplayString)(t.availableSlots),1)]),(0,e.createElementVNode)("div",ot,[at,(0,e.createElementVNode)("span",nt,(0,e.toDisplayString)(Math.round(t.utilization))+"%",1)])]))),128))])])):(0,e.createCommentVNode)("v-if",!0)])}],["__scopeId","data-v-9554d852"]]),rt=t=>((0,e.pushScopeId)("data-v-17031830"),t=t(),(0,e.popScopeId)(),t),dt={class:"modal-header"},ct={key:0,class:"period-info"},ut={class:"info-item"},mt=rt(()=>(0,e.createElementVNode)("strong",null,"Day:",-1)),pt={class:"info-item"},gt=rt(()=>(0,e.createElementVNode)("strong",null,"Period:",-1)),ft={class:"info-item"},ht=rt(()=>(0,e.createElementVNode)("strong",null,"Time:",-1)),vt={key:1,class:"existing-assignments"},yt={class:"assignment-list"},bt={class:"assignment-header"},xt={class:"course-name"},kt={class:"assignment-actions"},Ct=["onClick"],Nt=["onClick"],Et={class:"assignment-details"},St={key:0,class:"detail-item"},_t=rt(()=>(0,e.createElementVNode)("strong",null,"Class:",-1)),Vt={key:1,class:"detail-item"},wt=rt(()=>(0,e.createElementVNode)("strong",null,"Teachers:",-1)),Dt={key:2,class:"detail-item"},Bt=rt(()=>(0,e.createElementVNode)("strong",null,"Room:",-1)),It={key:3,class:"detail-item"},At=rt(()=>(0,e.createElementVNode)("strong",null,"Meeting:",-1)),Tt={key:0,class:"conflicts-section"},Pt=rt(()=>(0,e.createElementVNode)("div",{class:"conflicts-header"},"âš ï¸ Conflicts Detected",-1)),zt={class:"conflicts-list"},Mt={class:"available-courses"},Ft=rt(()=>(0,e.createElementVNode)("h3",null,"Available Courses",-1)),jt={class:"course-filter"},Rt=rt(()=>(0,e.createElementVNode)("option",{value:""},"All Year Groups",-1)),Lt=["value"],Ut={class:"course-grid"},Gt=["onClick"],$t={class:"course-header"},Ot={class:"course-name"},Yt={class:"course-indicators"},qt={key:0,class:"unavailable-badge",title:"Not in possible time slots"},Wt={key:1,class:"conflict-badge",title:"Would cause conflict"},Ht={key:0,class:"course-description"},Zt={class:"course-details"},Jt={key:0,class:"detail-small"},Kt={key:1,class:"detail-small"},Qt={key:0,class:"no-courses"},Xt={key:2,class:"quick-assign-form"},eo={class:"form-grid"},to={class:"form-group"},oo=rt(()=>(0,e.createElementVNode)("label",{for:"assign-class"},"Class:",-1)),ao=rt(()=>(0,e.createElementVNode)("option",{value:""},"Select Class",-1)),no=["value"],lo={class:"form-group"},so=rt(()=>(0,e.createElementVNode)("label",{for:"assign-room"},"Room:",-1)),io=rt(()=>(0,e.createElementVNode)("option",{value:""},"Select Room",-1)),ro=["value"],co={class:"form-group"},uo=rt(()=>(0,e.createElementVNode)("label",null,"Teachers:",-1)),mo={class:"teacher-grid"},po=["value"],go={class:"form-group"},fo=rt(()=>(0,e.createElementVNode)("label",{for:"meeting-name"},"Meeting Name (optional):",-1)),ho={class:"form-actions"},vo=["disabled"],yo={name:"AssignmentModal",props:{visible:{type:Boolean,default:!1},dayId:{type:Number,default:null},periodId:{type:Number,default:null},period:{type:Object,default:null},courses:{type:Array,default:()=>[]},teachers:{type:Array,default:()=>[]},classes:{type:Array,default:()=>[]},rooms:{type:Array,default:()=>[]},subjects:{type:Array,default:()=>[]},schoolDays:{type:Array,default:()=>[]},existingAssignments:{type:Array,default:()=>[]},conflicts:{type:Array,default:()=>[]},isReadOnly:{type:Boolean,default:!1},preSelectedCourse:{type:Object,default:null}},emits:["close","add-assignment","edit-assignment","remove-assignment"],setup(t,{emit:o}){const a=(0,e.ref)(""),n=(0,e.ref)(""),l=(0,e.ref)(null),s=(0,e.ref)({class_id:"",teacher_ids:[],room_id:"",meeting_name:""});(0,e.watch)(()=>t.preSelectedCourse,e=>{e&&t.visible&&(console.log("ðŸŽ¯ [AssignmentModal] Pre-selecting course:",{courseId:e.id,courseName:e.name||e.course_name}),h(e))},{immediate:!0}),(0,e.watch)(()=>t.visible,e=>{e||(l.value=null,s.value={class_id:"",teacher_ids:[],room_id:"",meeting_name:""})});const i=(0,e.computed)(()=>{if(!t.period)return"Manage Assignments";const e=t.schoolDays.find(e=>e.id===t.dayId||e.day_id===t.dayId),o=e?.name||"Unknown Day",a=t.period?.name||t.period?.label||"Unknown Period";return console.log("ðŸŽ¯ [AssignmentModal] modalTitle computation:",{dayId:t.dayId,periodId:t.periodId,dayData:e,dayName:o,periodName:a,schoolDays:t.schoolDays.map(e=>({id:e.id,day_id:e.day_id,name:e.name})),period:t.period}),`${o} - ${a}`}),r=(0,e.computed)(()=>{if(!t.period)return null;const e=t.schoolDays.find(e=>e.id===t.dayId||e.day_id===t.dayId),o=e?.name||"Unknown Day",a=t.period?.name||t.period?.label||"Unknown Period",n=`${f(t.period.start_time)} - ${f(t.period.end_time)}`;return console.log("ðŸŽ¯ [AssignmentModal] periodInfo computation:",{dayId:t.dayId,dayData:e,dayName:o,periodName:a,timeRange:n}),{dayName:o,periodName:a,timeRange:n}}),d=(0,e.computed)(()=>{const e=new Set;return t.classes.forEach(t=>{t.year_group&&e.add(t.year_group)}),Array.from(e).sort()}),c=(0,e.computed)(()=>{let e=t.courses;if(console.log("ðŸ“š [AssignmentModal] filteredCourses computation:",{totalCourses:t.courses.length,courseFilter:a.value,yearGroupFilter:n.value,sampleCourse:t.courses[0]}),a.value){const o=a.value.toLowerCase();e=e.filter(e=>{const t=[e.name,e.course_name,e.title,e.description,e.course_code,e.subject_name,e.important_information].filter(Boolean),a=t.some(e=>e?.toLowerCase().includes(o));return"archery"===o&&console.log("ðŸ” [AssignmentModal] Archery search debug:",{courseId:e.id,searchableFields:t,matches:a,course:e}),a}),console.log("ðŸ“š [AssignmentModal] Search filtering:",{searchTerm:a.value,beforeFiltering:t.courses.length,afterFiltering:e.length,matchedCourses:e.map(e=>({id:e.id,name:e.name||e.course_name||e.title,code:e.course_code}))})}return n.value&&(e=e.filter(e=>e.year_groups?.includes(n.value))),console.log("ðŸ“š [AssignmentModal] Filtered courses result:",{filteredCount:e.length,courses:e.map(e=>({id:e.id,name:e.name}))}),e}),u=(0,e.computed)(()=>l.value&&l.value.year_groups?.length?t.classes.filter(e=>l.value.year_groups.includes(e.year_group)):t.classes),m=(0,e.computed)(()=>l.value&&l.value.subject_ids?.length?t.teachers.filter(e=>e.subject_ids?.some(e=>l.value.subject_ids.includes(e))):t.teachers),p=(0,e.computed)(()=>t.rooms),g=(0,e.computed)(()=>s.value.class_id&&s.value.teacher_ids.length>0);function f(e){if(!e)return"";const t=e.split(":");return t.length>=2?`${t[0]}:${t[1]}`:e}function h(e){t.isReadOnly||(l.value=e,s.value={class_id:"",teacher_ids:[],room_id:"",meeting_name:""})}return(0,e.watch)(()=>t.visible,e=>{e||(l.value=null)}),{courseFilter:a,yearGroupFilter:n,selectedCourse:l,assignmentForm:s,modalTitle:i,periodInfo:r,yearGroups:d,filteredCourses:c,availableClasses:u,availableTeachers:m,availableRooms:p,isAssignmentValid:g,formatTime:f,getCourseName:function(e){if(!e)return"No Course";const o=t.courses.find(t=>t.id===e);return o?.name||o?.course_name||o?.title||"Unknown Course"},getClassName:function(e){if(!e)return"No Class";const o=t.classes.find(t=>t.id===e);return o?.name||"Unknown Class"},getTeacherNames:function(e){return e?.length?e.map(e=>{const o=t.teachers.find(t=>t.id===e);return o?.name||"Unknown Teacher"}).join(", "):"No Teachers"},getRoomName:function(e){if(!e)return"No Room";const o=t.rooms.find(t=>t.id===e);return o?.name||"Unknown Room"},hasAssignmentConflicts:function(e){return t.conflicts.some(t=>t.day_id===e.day_id&&t.period_id===e.period_id&&(t.assignment_id===e.id||t.teacher_ids?.some(t=>e.teacher_ids?.includes(t))||t.class_id===e.class_id||t.room_id===e.room_id))},getAssignmentConflicts:function(e){return t.conflicts.filter(t=>t.day_id===e.day_id&&t.period_id===e.period_id&&(t.assignment_id===e.id||t.teacher_ids?.some(t=>e.teacher_ids?.includes(t))||t.class_id===e.class_id||t.room_id===e.room_id))},getAssignmentCardStyle:function(e){const o=t.courses.find(t=>t.id===e.course_id),a=t.classes.find(t=>t.id===e.class_id);return{borderLeft:`4px solid ${o?.color||a?.color||"#e0e0e0"}`,backgroundColor:o?.color?`${o.color}10`:a?.color?`${a.color}10`:"#f9f9f9"}},isCourseAvailable:function(e){if(!e.possible_time_slots?.length)return console.log("ðŸ“š [AssignmentModal] Course has no time slot restrictions:",{courseId:e.id,courseName:e.name||e.course_name}),!0;const o=t.schoolDays.find(e=>e.id===t.dayId||e.day_id===t.dayId);let a=o?.day_number;if(!a){const e=t.schoolDays.findIndex(e=>e.id===t.dayId||e.day_id===t.dayId);a=e>=0?e+1:null}console.log("ðŸ“š [AssignmentModal] Checking course availability:",{courseId:e.id,courseName:e.name||e.course_name,possible_time_slots:e.possible_time_slots,currentDayId:t.dayId,currentPeriodId:t.periodId,currentDay:o,currentDayNumber:a,schoolDaysCount:t.schoolDays.length});const n=e.possible_time_slots.some(e=>{if("string"==typeof e&&e.includes("|")){const[o,n]=e.split("|"),l=parseInt(o),s=l===a&&n===t.periodId;return console.log("  Checking string slot:",{slot:e,slotDayNumber:l,periodId:n,currentDayNumber:a,currentPeriodId:t.periodId,matches:s}),s}if("object"==typeof e){const o=e.day_id===t.dayId&&e.period_id===t.periodId;return console.log("  Checking object slot:",{slot:e,currentDayId:t.dayId,currentPeriodId:t.periodId,matches:o}),o}return!1});return console.log("ðŸ“š [AssignmentModal] Course availability result:",{courseId:e.id,courseName:e.name||e.course_name,isAvailable:n}),n},wouldCauseConflict:function(e){return t.existingAssignments.some(t=>t.course_id===e.id)},getCourseCardStyle:function(e){return{backgroundColor:e.color?`${e.color}15`:"#f9f9f9",borderColor:e.color||"#e0e0e0"}},selectCourse:h,cancelSelection:function(){l.value=null},confirmAssignment:function(){if(!g.value||!l.value)return;const e={schedule_type:"period",day_id:t.dayId,period_id:t.periodId,start_time:t.period.start_time,end_time:t.period.end_time,course_id:l.value.id,subject_id:l.value.subject_id||null,class_id:s.value.class_id,teacher_ids:[...s.value.teacher_ids],room_id:s.value.room_id||null,meeting_name:s.value.meeting_name||null,notes:null};o("add-assignment",e),l.value=null},editAssignment:function(e){o("edit-assignment",e)},removeAssignment:function(e){o("remove-assignment",e)},closeModal:function(){l.value=null,o("close")}}}};o(405);const bo=(0,st.Z)(yo,[["render",function(t,o,a,n,l,s){return a.visible?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"assignment-modal-overlay",onClick:o[10]||(o[10]=(...e)=>n.closeModal&&n.closeModal(...e))},[(0,e.createElementVNode)("div",{class:"assignment-modal",onClick:o[9]||(o[9]=(0,e.withModifiers)(()=>{},["stop"]))},[(0,e.createCommentVNode)(" Header "),(0,e.createElementVNode)("div",dt,[(0,e.createElementVNode)("h2",null,(0,e.toDisplayString)(n.modalTitle),1),(0,e.createElementVNode)("button",{class:"close-button",onClick:o[0]||(o[0]=(...e)=>n.closeModal&&n.closeModal(...e)),"aria-label":"Close"},"Ã—")]),(0,e.createCommentVNode)(" Period/Time Info "),n.periodInfo?((0,e.openBlock)(),(0,e.createElementBlock)("div",ct,[(0,e.createElementVNode)("div",ut,[mt,(0,e.createTextVNode)(" "+(0,e.toDisplayString)(n.periodInfo.dayName),1)]),(0,e.createElementVNode)("div",pt,[gt,(0,e.createTextVNode)(" "+(0,e.toDisplayString)(n.periodInfo.periodName),1)]),(0,e.createElementVNode)("div",ft,[ht,(0,e.createTextVNode)(" "+(0,e.toDisplayString)(n.periodInfo.timeRange),1)])])):(0,e.createCommentVNode)("v-if",!0),(0,e.createCommentVNode)(" Existing Assignments "),a.existingAssignments.length>0?((0,e.openBlock)(),(0,e.createElementBlock)("div",vt,[(0,e.createElementVNode)("h3",null,"Current Assignments ("+(0,e.toDisplayString)(a.existingAssignments.length)+")",1),(0,e.createElementVNode)("div",yt,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(a.existingAssignments,(t,o)=>((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:o,class:(0,e.normalizeClass)(["assignment-card",{"has-conflicts":n.hasAssignmentConflicts(t)}]),style:(0,e.normalizeStyle)(n.getAssignmentCardStyle(t))},[(0,e.createElementVNode)("div",bt,[(0,e.createElementVNode)("span",xt,(0,e.toDisplayString)(n.getCourseName(t.course_id)),1),(0,e.createElementVNode)("div",kt,[(0,e.createElementVNode)("button",{onClick:e=>n.editAssignment(t),class:"edit-btn",title:"Edit assignment"}," âœï¸ ",8,Ct),(0,e.createElementVNode)("button",{onClick:e=>n.removeAssignment(t),class:"remove-btn",title:"Remove assignment"}," ðŸ—‘ï¸ ",8,Nt)])]),(0,e.createElementVNode)("div",Et,[t.class_id?((0,e.openBlock)(),(0,e.createElementBlock)("div",St,[_t,(0,e.createTextVNode)(" "+(0,e.toDisplayString)(n.getClassName(t.class_id)),1)])):(0,e.createCommentVNode)("v-if",!0),t.teacher_ids?.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",Vt,[wt,(0,e.createTextVNode)(" "+(0,e.toDisplayString)(n.getTeacherNames(t.teacher_ids)),1)])):(0,e.createCommentVNode)("v-if",!0),t.room_id?((0,e.openBlock)(),(0,e.createElementBlock)("div",Dt,[Bt,(0,e.createTextVNode)(" "+(0,e.toDisplayString)(n.getRoomName(t.room_id)),1)])):(0,e.createCommentVNode)("v-if",!0),t.meeting_name?((0,e.openBlock)(),(0,e.createElementBlock)("div",It,[At,(0,e.createTextVNode)(" "+(0,e.toDisplayString)(t.meeting_name),1)])):(0,e.createCommentVNode)("v-if",!0)]),(0,e.createCommentVNode)(" Conflict Warnings "),n.hasAssignmentConflicts(t)?((0,e.openBlock)(),(0,e.createElementBlock)("div",Tt,[Pt,(0,e.createElementVNode)("ul",zt,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.getAssignmentConflicts(t),t=>((0,e.openBlock)(),(0,e.createElementBlock)("li",{key:t.id},(0,e.toDisplayString)(t.message),1))),128))])])):(0,e.createCommentVNode)("v-if",!0)],6))),128))])])):(0,e.createCommentVNode)("v-if",!0),(0,e.createCommentVNode)(" Available Courses Section "),(0,e.createElementVNode)("div",Mt,[Ft,(0,e.createCommentVNode)(" Course Filter "),(0,e.createElementVNode)("div",jt,[(0,e.withDirectives)((0,e.createElementVNode)("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>n.courseFilter=e),type:"text",placeholder:"Search courses...",class:"filter-input"},null,512),[[e.vModelText,n.courseFilter]]),(0,e.withDirectives)((0,e.createElementVNode)("select",{"onUpdate:modelValue":o[2]||(o[2]=e=>n.yearGroupFilter=e),class:"filter-select"},[Rt,((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.yearGroups,t=>((0,e.openBlock)(),(0,e.createElementBlock)("option",{key:t,value:t},(0,e.toDisplayString)(t),9,Lt))),128))],512),[[e.vModelSelect,n.yearGroupFilter]])]),(0,e.createCommentVNode)(" Course List "),(0,e.createElementVNode)("div",Ut,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.filteredCourses,t=>((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:t.id,class:(0,e.normalizeClass)(["course-card",{available:n.isCourseAvailable(t),unavailable:!n.isCourseAvailable(t),"conflict-warning":n.wouldCauseConflict(t)}]),style:(0,e.normalizeStyle)(n.getCourseCardStyle(t)),onClick:e=>n.selectCourse(t)},[(0,e.createElementVNode)("div",$t,[(0,e.createElementVNode)("span",Ot,(0,e.toDisplayString)(t.name),1),(0,e.createElementVNode)("div",Yt,[n.isCourseAvailable(t)?(0,e.createCommentVNode)("v-if",!0):((0,e.openBlock)(),(0,e.createElementBlock)("span",qt,"ðŸš«")),n.wouldCauseConflict(t)?((0,e.openBlock)(),(0,e.createElementBlock)("span",Wt,"âš ï¸")):(0,e.createCommentVNode)("v-if",!0)])]),t.description?((0,e.openBlock)(),(0,e.createElementBlock)("div",Ht,(0,e.toDisplayString)(t.description),1)):(0,e.createCommentVNode)("v-if",!0),(0,e.createElementVNode)("div",Zt,[t.year_groups?.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",Jt," Years: "+(0,e.toDisplayString)(t.year_groups.join(", ")),1)):(0,e.createCommentVNode)("v-if",!0),t.duration?((0,e.openBlock)(),(0,e.createElementBlock)("div",Kt,"Duration: "+(0,e.toDisplayString)(t.duration)+"min",1)):(0,e.createCommentVNode)("v-if",!0)])],14,Gt))),128))]),0===n.filteredCourses.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",Qt,"No courses match your search criteria.")):(0,e.createCommentVNode)("v-if",!0)]),(0,e.createCommentVNode)(" Quick Assignment Form (appears after selecting course) "),n.selectedCourse?((0,e.openBlock)(),(0,e.createElementBlock)("div",Xt,[(0,e.createElementVNode)("h3",null,"Assign "+(0,e.toDisplayString)(n.selectedCourse.name),1),(0,e.createElementVNode)("div",eo,[(0,e.createElementVNode)("div",to,[oo,(0,e.withDirectives)((0,e.createElementVNode)("select",{id:"assign-class","onUpdate:modelValue":o[3]||(o[3]=e=>n.assignmentForm.class_id=e),required:""},[ao,((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.availableClasses,t=>((0,e.openBlock)(),(0,e.createElementBlock)("option",{key:t.id,value:t.id},(0,e.toDisplayString)(t.name),9,no))),128))],512),[[e.vModelSelect,n.assignmentForm.class_id]])]),(0,e.createElementVNode)("div",lo,[so,(0,e.withDirectives)((0,e.createElementVNode)("select",{id:"assign-room","onUpdate:modelValue":o[4]||(o[4]=e=>n.assignmentForm.room_id=e)},[io,((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.availableRooms,t=>((0,e.openBlock)(),(0,e.createElementBlock)("option",{key:t.id,value:t.id},(0,e.toDisplayString)(t.name),9,ro))),128))],512),[[e.vModelSelect,n.assignmentForm.room_id]])])]),(0,e.createElementVNode)("div",co,[uo,(0,e.createElementVNode)("div",mo,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.availableTeachers,t=>((0,e.openBlock)(),(0,e.createElementBlock)("label",{key:t.id,class:"teacher-checkbox"},[(0,e.withDirectives)((0,e.createElementVNode)("input",{type:"checkbox",value:t.id,"onUpdate:modelValue":o[5]||(o[5]=e=>n.assignmentForm.teacher_ids=e)},null,8,po),[[e.vModelCheckbox,n.assignmentForm.teacher_ids]]),(0,e.createTextVNode)(" "+(0,e.toDisplayString)(t.name),1)]))),128))])]),(0,e.createElementVNode)("div",go,[fo,(0,e.withDirectives)((0,e.createElementVNode)("input",{id:"meeting-name","onUpdate:modelValue":o[6]||(o[6]=e=>n.assignmentForm.meeting_name=e),type:"text",placeholder:"Custom meeting name"},null,512),[[e.vModelText,n.assignmentForm.meeting_name]])]),(0,e.createElementVNode)("div",ho,[(0,e.createElementVNode)("button",{onClick:o[7]||(o[7]=(...e)=>n.cancelSelection&&n.cancelSelection(...e)),class:"cancel-btn"},"Cancel"),(0,e.createElementVNode)("button",{onClick:o[8]||(o[8]=(...e)=>n.confirmAssignment&&n.confirmAssignment(...e)),class:"confirm-btn",disabled:!n.isAssignmentValid}," Add Assignment ",8,vo)])])):(0,e.createCommentVNode)("v-if",!0)])])):(0,e.createCommentVNode)("v-if",!0)}],["__scopeId","data-v-17031830"]]),xo=t=>((0,e.pushScopeId)("data-v-52ced96f"),t=t(),(0,e.popScopeId)(),t),ko={key:0,class:"conflict-panel"},Co={class:"panel-header"},No=xo(()=>(0,e.createElementVNode)("span",{class:"conflict-icon"},"âš ï¸",-1)),Eo={class:"header-actions"},So=[(0,e.createStaticVNode)('<option value="" data-v-52ced96f>All Conflicts</option><option value="teacher" data-v-52ced96f>Teacher Conflicts</option><option value="room" data-v-52ced96f>Room Conflicts</option><option value="class" data-v-52ced96f>Class Conflicts</option><option value="time" data-v-52ced96f>Time Conflicts</option>',5)],_o={class:"panel-content"},Vo={key:0,class:"no-conflicts"},wo=[xo(()=>(0,e.createElementVNode)("div",{class:"no-conflicts-icon"},"âœ…",-1)),xo(()=>(0,e.createElementVNode)("h4",null,"No Conflicts Found",-1)),xo(()=>(0,e.createElementVNode)("p",null,"Your schedule is conflict-free!",-1))],Do={key:1,class:"conflicts-list"},Bo={class:"conflict-header"},Io={class:"conflict-title"},Ao={class:"conflict-actions"},To=["onClick"],Po=["onClick"],zo={class:"conflict-description"},Mo={class:"conflict-details"},Fo={class:"detail-row"},jo=xo(()=>(0,e.createElementVNode)("strong",null,"Time:",-1)),Ro={key:0},Lo={key:0,class:"detail-row"},Uo=xo(()=>(0,e.createElementVNode)("strong",null,"Courses:",-1)),Go={class:"course-list"},$o={key:1,class:"detail-row"},Oo=xo(()=>(0,e.createElementVNode)("strong",null,"Teachers:",-1)),Yo={class:"teacher-list"},qo={key:2,class:"detail-row"},Wo=xo(()=>(0,e.createElementVNode)("strong",null,"Classes:",-1)),Ho={class:"class-list"},Zo={key:3,class:"detail-row"},Jo=xo(()=>(0,e.createElementVNode)("strong",null,"Rooms:",-1)),Ko={class:"room-list"},Qo={key:0,class:"conflict-suggestions"},Xo=xo(()=>(0,e.createElementVNode)("div",{class:"suggestions-header"},"ðŸ’¡ Suggested Solutions:",-1)),ea={class:"suggestions-list"},ta={class:"suggestion-text"},oa=["onClick"],aa={key:1,class:"auto-resolve"},na=["onClick"],la={key:0,class:"panel-footer"},sa={class:"conflict-summary"},ia={class:"summary-item critical"},ra={class:"summary-item high"},da={class:"summary-item medium"},ca={class:"summary-item low"},ua={class:"panel-actions"},ma={name:"ConflictPanel",props:{visible:{type:Boolean,default:!1},conflicts:{type:Array,default:()=>[]},courses:{type:Array,default:()=>[]},teachers:{type:Array,default:()=>[]},classes:{type:Array,default:()=>[]},rooms:{type:Array,default:()=>[]},periods:{type:Array,default:()=>[]},schoolDays:{type:Array,default:()=>[]}},emits:["close","navigate-to-conflict","apply-suggestion","ignore-conflict","auto-resolve-all"],setup(t,{emit:o}){const a=(0,e.ref)(""),n=(0,e.computed)(()=>a.value?t.conflicts.filter(e=>e.type===a.value):t.conflicts),l=(0,e.computed)(()=>t.conflicts.filter(e=>"critical"===e.severity).length),s=(0,e.computed)(()=>t.conflicts.filter(e=>"high"===e.severity).length),i=(0,e.computed)(()=>t.conflicts.filter(e=>"medium"===e.severity).length),r=(0,e.computed)(()=>t.conflicts.filter(e=>"low"===e.severity).length),d=(0,e.computed)(()=>t.conflicts.filter(e=>e.auto_resolvable).length);function c(e){const o=t.schoolDays.find(t=>t.id===e);return o?.name||"Unknown Day"}function u(e){const o=t.periods.find(t=>t.id===e);return o?.name||"Unknown Period"}function m(e){return{teacher:"Teacher",room:"Room",class:"Class",time:"Time",resource:"Resource",warning:"Warning"}[e]||"Unknown"}function p(e){switch(e.type){case"teacher":return"Teacher is assigned to multiple classes at the same time";case"room":return"Room is booked for multiple classes at the same time";case"class":return"Class has overlapping assignments";case"time":return"Time slot conflict detected";default:return"Scheduling conflict detected"}}return{filterType:a,visibleConflicts:n,criticalConflicts:l,highConflicts:s,mediumConflicts:i,lowConflicts:r,autoResolvableConflicts:d,formatTime:function(e){if(!e)return"";const t=e.split(":");return t.length>=2?`${t[0]}:${t[1]}`:e},getDayName:c,getPeriodName:u,getCourseName:function(e){const o=t.courses.find(t=>t.id===e);return o?.name||"Unknown Course"},getTeacherName:function(e){const o=t.teachers.find(t=>t.id===e);return o?.name||"Unknown Teacher"},getClassName:function(e){const o=t.classes.find(t=>t.id===e);return o?.name||"Unknown Class"},getRoomName:function(e){const o=t.rooms.find(t=>t.id===e);return o?.name||"Unknown Room"},getCourseStyle:function(e){const o=t.courses.find(t=>t.id===e);return o?.color?{backgroundColor:o.color,color:"#fff"}:{}},getTeacherStyle:function(e){const o=t.teachers.find(t=>t.id===e);return o?.color?{backgroundColor:o.color,color:"#fff"}:{}},getClassStyle:function(e){const o=t.classes.find(t=>t.id===e);return o?.color?{backgroundColor:o.color,color:"#fff"}:{}},getConflictTypeIcon:function(e){return{teacher:"ðŸ‘¨â€ðŸ«",room:"ðŸ ",class:"ðŸ‘¥",time:"â°",resource:"ðŸ“‹",warning:"âš ï¸"}[e]||"âš ï¸"},getConflictTypeName:m,getSeverityIcon:function(e){return{critical:"ðŸ”´",high:"ðŸŸ ",medium:"ðŸŸ¡",low:"ðŸŸ¢"}[e]||"ðŸŸ¡"},getDefaultConflictMessage:p,navigateToConflict:function(e){o("navigate-to-conflict",e)},suggestFix:function(e){console.log("Suggesting fixes for conflict:",e)},applySuggestion:function(e){o("apply-suggestion",e)},ignoreConflict:function(e){o("ignore-conflict",e)},autoResolveAll:function(){o("auto-resolve-all")},exportConflicts:function(){const e=t.conflicts.map(e=>({Type:m(e.type),Severity:e.severity,Day:c(e.day_id),Period:u(e.period_id),Message:e.message||p(e)})),o=[Object.keys(e[0]).join(","),...e.map(e=>Object.values(e).join(","))].join("\n"),a=new Blob([o],{type:"text/csv"}),n=URL.createObjectURL(a),l=document.createElement("a");l.href=n,l.download="schedule-conflicts.csv",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(n)}}}};o(841);const pa={name:"CourseScheduler",components:{SchedulerGrid:it,AssignmentModal:bo,ConflictPanel:(0,st.Z)(ma,[["render",function(t,o,a,n,l,s){return a.visible?((0,e.openBlock)(),(0,e.createElementBlock)("div",ko,[(0,e.createElementVNode)("div",Co,[(0,e.createElementVNode)("h3",null,[No,(0,e.createTextVNode)(" Schedule Conflicts ("+(0,e.toDisplayString)(n.visibleConflicts.length)+") ",1)]),(0,e.createElementVNode)("div",Eo,[(0,e.withDirectives)((0,e.createElementVNode)("select",{"onUpdate:modelValue":o[0]||(o[0]=e=>n.filterType=e),class:"filter-select"},So,512),[[e.vModelSelect,n.filterType]]),(0,e.createElementVNode)("button",{onClick:o[1]||(o[1]=e=>t.$emit("close")),class:"close-button",title:"Close panel"},"Ã—")])]),(0,e.createElementVNode)("div",_o,[0===n.visibleConflicts.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",Vo,wo)):((0,e.openBlock)(),(0,e.createElementBlock)("div",Do,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.visibleConflicts,t=>((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:t.id,class:(0,e.normalizeClass)(["conflict-item",`conflict-type-${t.type}`])},[(0,e.createElementVNode)("div",Bo,[(0,e.createElementVNode)("div",Io,[(0,e.createElementVNode)("span",{class:(0,e.normalizeClass)(["conflict-type-badge",`badge-${t.type}`])},(0,e.toDisplayString)(n.getConflictTypeIcon(t.type))+" "+(0,e.toDisplayString)(n.getConflictTypeName(t.type)),3),(0,e.createElementVNode)("span",{class:(0,e.normalizeClass)(["conflict-severity",`severity-${t.severity||"medium"}`])},(0,e.toDisplayString)(n.getSeverityIcon(t.severity)),3)]),(0,e.createElementVNode)("div",Ao,[(0,e.createElementVNode)("button",{onClick:e=>n.navigateToConflict(t),class:"navigate-btn",title:"Go to conflict location"}," ðŸ“ Go To ",8,To),"warning"!==t.type?((0,e.openBlock)(),(0,e.createElementBlock)("button",{key:0,onClick:e=>n.suggestFix(t),class:"suggest-btn",title:"Get suggestions to fix"}," ðŸ’¡ Fix ",8,Po)):(0,e.createCommentVNode)("v-if",!0)])]),(0,e.createElementVNode)("div",zo,(0,e.toDisplayString)(t.message||n.getDefaultConflictMessage(t)),1),(0,e.createElementVNode)("div",Mo,[(0,e.createElementVNode)("div",Fo,[jo,(0,e.createTextVNode)(" "+(0,e.toDisplayString)(n.getDayName(t.day_id))+", "+(0,e.toDisplayString)(n.getPeriodName(t.period_id))+" ",1),t.start_time&&t.end_time?((0,e.openBlock)(),(0,e.createElementBlock)("span",Ro," ("+(0,e.toDisplayString)(n.formatTime(t.start_time))+" - "+(0,e.toDisplayString)(n.formatTime(t.end_time))+") ",1)):(0,e.createCommentVNode)("v-if",!0)]),t.affected_courses?.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",Lo,[Uo,(0,e.createElementVNode)("span",Go,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(t.affected_courses,t=>((0,e.openBlock)(),(0,e.createElementBlock)("span",{key:t,class:"course-tag",style:(0,e.normalizeStyle)(n.getCourseStyle(t))},(0,e.toDisplayString)(n.getCourseName(t)),5))),128))])])):(0,e.createCommentVNode)("v-if",!0),t.affected_teachers?.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",$o,[Oo,(0,e.createElementVNode)("span",Yo,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(t.affected_teachers,t=>((0,e.openBlock)(),(0,e.createElementBlock)("span",{key:t,class:"teacher-tag",style:(0,e.normalizeStyle)(n.getTeacherStyle(t))},(0,e.toDisplayString)(n.getTeacherName(t)),5))),128))])])):(0,e.createCommentVNode)("v-if",!0),t.affected_classes?.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",qo,[Wo,(0,e.createElementVNode)("span",Ho,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(t.affected_classes,t=>((0,e.openBlock)(),(0,e.createElementBlock)("span",{key:t,class:"class-tag",style:(0,e.normalizeStyle)(n.getClassStyle(t))},(0,e.toDisplayString)(n.getClassName(t)),5))),128))])])):(0,e.createCommentVNode)("v-if",!0),t.affected_rooms?.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",Zo,[Jo,(0,e.createElementVNode)("span",Ko,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(t.affected_rooms,t=>((0,e.openBlock)(),(0,e.createElementBlock)("span",{key:t,class:"room-tag"},(0,e.toDisplayString)(n.getRoomName(t)),1))),128))])])):(0,e.createCommentVNode)("v-if",!0)]),(0,e.createCommentVNode)(" Suggestions (if available) "),t.suggestions?.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",Qo,[Xo,(0,e.createElementVNode)("ul",ea,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(t.suggestions,t=>((0,e.openBlock)(),(0,e.createElementBlock)("li",{key:t.id,class:"suggestion-item"},[(0,e.createElementVNode)("span",ta,(0,e.toDisplayString)(t.text),1),t.action?((0,e.openBlock)(),(0,e.createElementBlock)("button",{key:0,onClick:e=>n.applySuggestion(t),class:"apply-suggestion-btn"}," Apply ",8,oa)):(0,e.createCommentVNode)("v-if",!0)]))),128))])])):(0,e.createCommentVNode)("v-if",!0),(0,e.createCommentVNode)(" Auto-resolve option for low-severity conflicts "),"low"===t.severity||"warning"===t.type?((0,e.openBlock)(),(0,e.createElementBlock)("div",aa,[(0,e.createElementVNode)("button",{onClick:e=>n.ignoreConflict(t),class:"ignore-btn"},"Ignore This Warning",8,na)])):(0,e.createCommentVNode)("v-if",!0)],2))),128))]))]),(0,e.createCommentVNode)(" Panel Footer "),n.visibleConflicts.length>0?((0,e.openBlock)(),(0,e.createElementBlock)("div",la,[(0,e.createElementVNode)("div",sa,[(0,e.createElementVNode)("span",ia,(0,e.toDisplayString)(n.criticalConflicts)+" Critical",1),(0,e.createElementVNode)("span",ra,(0,e.toDisplayString)(n.highConflicts)+" High",1),(0,e.createElementVNode)("span",da,(0,e.toDisplayString)(n.mediumConflicts)+" Medium",1),(0,e.createElementVNode)("span",ca,(0,e.toDisplayString)(n.lowConflicts)+" Low",1)]),(0,e.createElementVNode)("div",ua,[n.autoResolvableConflicts>0?((0,e.openBlock)(),(0,e.createElementBlock)("button",{key:0,onClick:o[2]||(o[2]=(...e)=>n.autoResolveAll&&n.autoResolveAll(...e)),class:"auto-resolve-btn"}," ðŸ”§ Auto-Resolve "+(0,e.toDisplayString)(n.autoResolvableConflicts)+" Conflicts ",1)):(0,e.createCommentVNode)("v-if",!0),(0,e.createElementVNode)("button",{onClick:o[3]||(o[3]=(...e)=>n.exportConflicts&&n.exportConflicts(...e)),class:"export-btn"},"ðŸ“„ Export Report")])])):(0,e.createCommentVNode)("v-if",!0)])):(0,e.createCommentVNode)("v-if",!0)}],["__scopeId","data-v-52ced96f"]])},props:{content:{type:Object,required:!0,default:()=>({schoolId:null,draftId:null,publishedBy:null,periods:[],courses:[],teachers:[],classes:[],rooms:[],schoolDays:[],draftSchedules:[],liveSchedules:[],subjects:[]})},wwElementState:{type:Object,required:!0},wwEditorState:{type:Object,required:!0}},setup(t,{emit:o}){const a=(0,e.ref)(!1),n=(0,e.ref)(!1),l=(0,e.ref)(!1),s=(0,e.ref)(!1),i=(0,e.ref)([]),r=(0,e.ref)({dayId:null,periodId:null,period:null,assignments:[],conflicts:[]}),d=(0,e.computed)(()=>(console.log("ðŸ« [wwElement] schoolId computed:",t.content.schoolId),t.content.schoolId||"No School ID")),c=(0,e.computed)(()=>(console.log("ðŸ“ [wwElement] draftId computed:",t.content.draftId),t.content.draftId||"No Draft ID")),u=(0,e.computed)(()=>(console.log("âœ… [wwElement] publishedBy computed:",t.content.publishedBy),t.content.publishedBy||null)),m=(0,e.computed)(()=>{const e=t.content.periods||[];console.log("ðŸ“… [wwElement] periods computed:",e.length,"periods:",e),e.length>0&&(console.log("ðŸ“… Available period field names:",Object.keys(e[0])),console.log("ðŸ“… Sample period data:",e[0]));const o=e.map((e,t)=>{let o=`Period ${t+1}`;e.start_time&&e.end_time&&(o=`${e.start_time} - ${e.end_time}`);const a=e.name||e.label||e.group_label||o;let n=!0;e.block_type?n=!["break","pause","lunch","recess","assembly","flexband","frÃ¼hdienst"].includes(e.block_type.toLowerCase()):("optional"===e.attendance_requirement||e.label&&(e.label.toLowerCase().includes("break")||e.label.toLowerCase().includes("pause")||e.label.toLowerCase().includes("lunch")||e.label.toLowerCase().includes("flexband")||e.label.toLowerCase().includes("frÃ¼hdienst")))&&(n=!1);const l={...e,name:a,is_instructional:void 0!==e.is_instructional?e.is_instructional:n,type:e.block_type||e.type||(n?"lesson":"break")};return console.log(`  Period ${t}:`,{original:{id:e.id,name:e.name,label:e.label,block_type:e.block_type,attendance_requirement:e.attendance_requirement,is_instructional:e.is_instructional,start_time:e.start_time,end_time:e.end_time,type:e.type},processed:{id:l.id,name:l.name,is_instructional:l.is_instructional,start_time:l.start_time,end_time:l.end_time,type:l.type}}),l});return console.log("ðŸ“… [wwElement] Final processed periods:",o),o}),p=(0,e.computed)(()=>{const e=t.content.courses||[];return console.log("ðŸ“š [wwElement] courses computed:",e.length,"courses:",e),e.length>0&&(console.log("ðŸ“š Sample course:",e[0]),console.log("ðŸ“š Course fields:",Object.keys(e[0]))),e}),g=(0,e.computed)(()=>{const e=t.content.teachers||[];return console.log("ðŸ‘¨â€ðŸ« [wwElement] teachers computed:",e.length,"teachers:",e),e}),f=(0,e.computed)(()=>{const e=t.content.classes||[];return console.log("ðŸŽ“ [wwElement] classes computed:",e.length,"classes:",e),e}),h=(0,e.computed)(()=>{const e=t.content.rooms||[];return console.log("ðŸ›ï¸ [wwElement] rooms computed:",e.length,"rooms:",e),e}),v=(0,e.computed)(()=>{const e=t.content.schoolDays||[];console.log("ðŸ—“ï¸ [wwElement] schoolDays computed:",e.length,"days:",e),e.length>0&&(console.log("ðŸ—“ï¸ Available school day field names:",Object.keys(e[0])),console.log("ðŸ—“ï¸ Sample school day data:",e[0]));const o=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=e.map((e,t)=>{const a=e.name||e.name_en||e.day_name||o[t]||`Day ${t+1}`,n={...e,id:e.day_id||e.id,name:a,date:e.date||e.day_date||null,is_active:void 0===e.is_active||e.is_active,day_number:e.day_number||t+1,day_id:e.day_id||e.id};return console.log(`  Day ${t}:`,{original:{id:e.id,day_id:e.day_id,name:e.name,name_en:e.name_en,name_de:e.name_de,date:e.date,is_active:e.is_active,day_number:e.day_number},processed:{id:n.id,name:n.name,date:n.date,is_active:n.is_active,day_number:n.day_number}}),n});return console.log("ðŸ—“ï¸ [wwElement] Final processed schoolDays:",a),a}),y=(0,e.computed)(()=>{const e=t.content.draftSchedules||[];return console.log("ðŸ“Š [wwElement] draftSchedules computed:",e.length,"schedules:",e),e.length>0&&(console.log("ðŸ“Š Sample draft assignment:",e[0]),console.log("ðŸ“Š Draft assignment fields:",Object.keys(e[0]))),e}),b=(0,e.computed)(()=>{const e=t.content.liveSchedules||[];return console.log("ðŸ”´ [wwElement] liveSchedules computed:",e.length,"schedules:",e),e.length>0&&(console.log("ðŸ”´ Sample live assignment:",e[0]),console.log("ðŸ”´ Live assignment fields:",Object.keys(e[0]))),e}),x=(0,e.computed)(()=>{const e=t.content.subjects||[];return console.log("ðŸ“– [wwElement] subjects computed:",e.length,"subjects:",e),e}),k=(0,e.computed)(()=>!!u.value),C=(0,e.computed)(()=>i.value.length>0),N=(0,e.computed)(()=>function(e){const t=[],o=Date.now(),a=new Map;return e.forEach((e,t)=>{const o=`${e.day_id}-${e.period_id}`;a.has(o)||a.set(o,[]),a.get(o).push({...e,index:t})}),a.forEach((e,a)=>{if(e.length<2)return;const[n,l]=a.split("-").map(Number),s=new Map;e.forEach(e=>{e.teacher_ids?.forEach(t=>{s.has(t)||s.set(t,[]),s.get(t).push(e)})}),s.forEach((e,s)=>{e.length>1&&t.push({id:`${o}-teacher-${s}-${a}`,type:"teacher",severity:"high",day_id:n,period_id:l,affected_teachers:[s],affected_courses:e.map(e=>e.course_id),message:`Teacher is assigned to ${e.length} courses at the same time`,auto_resolvable:!1})});const i=new Map;e.forEach(e=>{e.room_id&&(i.has(e.room_id)||i.set(e.room_id,[]),i.get(e.room_id).push(e))}),i.forEach((e,s)=>{e.length>1&&t.push({id:`${o}-room-${s}-${a}`,type:"room",severity:"high",day_id:n,period_id:l,affected_rooms:[s],affected_courses:e.map(e=>e.course_id),message:`Room is booked for ${e.length} courses at the same time`,auto_resolvable:!0})});const r=new Map;e.forEach(e=>{e.class_id&&(r.has(e.class_id)||r.set(e.class_id,[]),r.get(e.class_id).push(e))}),r.forEach((e,s)=>{e.length>1&&t.push({id:`${o}-class-${s}-${a}`,type:"class",severity:"medium",day_id:n,period_id:l,affected_classes:[s],affected_courses:e.map(e=>e.course_id),message:`Class has ${e.length} overlapping assignments`,auto_resolvable:!1})})}),t}(y.value)),E=(0,e.computed)(()=>{if(!r.value.dayId||!r.value.periodId)return console.log("ðŸŽ¯ [wwElement] availableCoursesForSlot: No slot selected, returning all courses"),p.value;const e=v.value.find(e=>e.id===r.value.dayId||e.day_id===r.value.dayId),t=e?.day_number;console.log("ðŸŽ¯ [wwElement] availableCoursesForSlot filtering:",{dayId:r.value.dayId,periodId:r.value.periodId,currentDay:e,currentDayNumber:t,totalCourses:p.value.length});const o=p.value.filter(e=>{if(!e.possible_time_slots?.length)return!0;const o=e.possible_time_slots.some(e=>{if("string"==typeof e&&e.includes("|")){const[o,a]=e.split("|");return parseInt(o)===t&&a===r.value.periodId}return"object"==typeof e&&e.day_id===r.value.dayId&&e.period_id===r.value.periodId});return e.possible_time_slots?.length&&!o&&console.log("  Course filtered out:",{courseId:e.id,courseName:e.name,possible_time_slots:e.possible_time_slots,reason:"Not available in this time slot"}),o});return console.log("ðŸŽ¯ [wwElement] availableCoursesForSlot result:",{totalCourses:p.value.length,filteredCourses:o.length,courseNames:o.map(e=>e.name).slice(0,5)}),o});function S(){const e=JSON.stringify(y.value);i.value.push(e),i.value.length>10&&i.value.shift()}function _(){a.value=!1,r.value={dayId:null,periodId:null,period:null,assignments:[],conflicts:[],preSelectedCourse:null}}function V(e){o("trigger-event",{name:"updateDraftSchedules",event:{draftSchedules:e}})}async function w(){s.value=!0;try{o("trigger-event",{name:"saveDraft",event:{draftId:c.value,schedules:y.value,timestamp:(new Date).toISOString(),action:"save_draft"}}),o("save-draft-external",{draftId:c.value,schedules:y.value,timestamp:(new Date).toISOString()}),await new Promise(e=>setTimeout(e,1e3)),console.log("ðŸ’¾ [wwElement] Draft saved successfully:",{draftId:c.value,schedulesCount:y.value.length,timestamp:(new Date).toISOString()})}catch(e){console.error("âŒ [wwElement] Error saving draft:",e)}finally{s.value=!1}}let D;return(0,e.watch)(y,()=>{k.value||(clearTimeout(D),D=setTimeout(()=>{w()},2e3))},{deep:!0}),(0,e.onMounted)(()=>{console.log("ðŸš€ [wwElement] Component mounted with content:",{fullContent:t.content,periods:m.value,schoolDays:v.value,courses:p.value,teachers:g.value,classes:f.value,rooms:h.value,draftSchedules:y.value,liveSchedules:b.value})}),(0,e.watch)(()=>t.content,(e,t)=>{if(console.log("ðŸ”„ [wwElement] Content prop changed:",{newContent:e,oldContent:t,periodsChanged:e?.periods!==t?.periods,schoolDaysChanged:e?.schoolDays!==t?.schoolDays}),e?.periods?.length>0){const t=e.periods[0];console.log("ðŸ“… Available period field names:",Object.keys(t)),console.log("ðŸ“… Sample period data:",t)}if(e?.schoolDays?.length>0){const t=e.schoolDays[0];console.log("ðŸ—“ï¸ Available school day field names:",Object.keys(t)),console.log("ðŸ—“ï¸ Sample school day data:",t)}},{deep:!0}),{schoolId:d,draftId:c,publishedBy:u,periods:m,courses:p,teachers:g,classes:f,rooms:h,schoolDays:v,draftSchedules:y,liveSchedules:b,subjects:x,showAssignmentModal:a,showConflicts:n,showTestData:l,selectedCell:r,isSaving:s,isReadOnly:k,canUndo:C,allConflicts:N,availableCoursesForSlot:E,handleCellClick:function({dayId:e,periodId:t,period:o,mode:n,preSelectedCourse:l}){if(k.value)return;console.log("ðŸŽ¯ [wwElement] handleCellClick called:",{dayId:e,periodId:t,periodData:o,mode:n,preSelectedCourse:l?{id:l.id,name:l.name||l.course_name}:null,schoolDaysCount:v.value.length,draftSchedulesCount:y.value.length});const s=y.value.filter(o=>o.day_id===e&&o.period_id===t),i=N.value.filter(o=>o.day_id===e&&o.period_id===t);console.log("ðŸŽ¯ [wwElement] Cell click - found data:",{assignmentsCount:s.length,assignments:s,conflictsCount:i.length,conflicts:i}),r.value={dayId:e,periodId:t,period:o,assignments:s,conflicts:i,preSelectedCourse:l},a.value=!0},closeAssignmentModal:_,addAssignment:function(e){S(),V([...y.value,e]),_()},editAssignment:function(e){_(),o("edit-assignment-requested",e)},removeAssignment:function(e){S(),V(y.value.filter(t=>!(t.day_id===e.day_id&&t.period_id===e.period_id&&t.course_id===e.course_id&&t.class_id===e.class_id)))},updateAssignments:function(e){V(e)},undo:function(){if(0===i.value.length)return;const e=i.value.pop();V(JSON.parse(e))},saveDraft:w,handleAssignmentDetails:function(e){o("trigger-event",{name:"assignmentDetails",event:{assignment:e}})},handleToggleNonInstructional:function(e){o("trigger-event",{name:"toggleNonInstructional",event:{showNonInstructional:e}})},handleToggleLessonSchedules:function(e){o("trigger-event",{name:"toggleLessonSchedules",event:{showLessonSchedules:e}})},handleModeChanged:function(e){o("trigger-event",{name:"modeChanged",event:{mode:e}})},handlePeriodFocusChanged:function(e){o("trigger-event",{name:"periodFocusChanged",event:{focusedPeriodId:e}})},handleFilterYear:function(e){o("trigger-event",{name:"filterYear",event:{selectedYear:e}})},navigateToConflict:function(e){r.value={dayId:e.day_id,periodId:e.period_id,period:m.value.find(t=>t.id===e.period_id),assignments:y.value.filter(t=>t.day_id===e.day_id&&t.period_id===e.period_id),conflicts:[e]},a.value=!0,n.value=!1},applySuggestion:function(e){o("trigger-event",{name:"applySuggestion",event:{suggestion:e}})},ignoreConflict:function(e){o("trigger-event",{name:"ignoreConflict",event:{conflictId:e.id}})},autoResolveConflicts:function(){o("trigger-event",{name:"autoResolveConflicts",event:{conflicts:N.value.filter(e=>e.auto_resolvable)}})},emitTestEvent:function(){try{o("trigger-event",{name:"testEvent",event:{message:"Comprehensive Course Scheduler is working!",timestamp:(new Date).toISOString(),data:{periods:m.value.length,courses:p.value.length,teachers:g.value.length,classes:f.value.length,rooms:h.value.length,draftSchedules:y.value.length,conflicts:N.value.length,isReadOnly:k.value}}}),alert("Test event emitted successfully!")}catch(e){console.error("Error emitting event:",e),alert("Error emitting event: "+e.message)}},logCurrentData:function(){if(console.log("ðŸ› [wwElement] === COMPLETE DATA DUMP ==="),console.log("Raw content object:",t.content),console.log("School ID:",d.value),console.log("Draft ID:",c.value),console.log("Published By:",u.value),console.log("ðŸ“… PERIODS ANALYSIS:"),console.log("  Raw periods:",t.content.periods),console.log("  Processed periods:",m.value),m.value.length>0){const e=m.value[0];console.log("  Sample period object keys:",Object.keys(e)),console.log("  Sample period values:",e)}if(console.log("ðŸ—“ï¸ SCHOOL DAYS ANALYSIS:"),console.log("  Raw schoolDays:",t.content.schoolDays),console.log("  Processed schoolDays:",v.value),v.value.length>0){const e=v.value[0];console.log("  Sample day object keys:",Object.keys(e)),console.log("  Sample day values:",e)}console.log("Courses:",p.value.length,p.value.slice(0,2)),console.log("Teachers:",g.value.length,g.value.slice(0,2)),console.log("Classes:",f.value.length,f.value.slice(0,2)),console.log("Rooms:",h.value.length,h.value.slice(0,2)),console.log("Draft Schedules:",y.value.length,y.value.slice(0,2)),console.log("Live Schedules:",b.value.length,b.value.slice(0,2)),console.log("Is Read Only:",k.value),console.log("Can Undo:",C.value),console.log("All Conflicts:",N.value.length,N.value),console.log("ðŸ› [wwElement] === END COMPLETE DATA DUMP ===")}}}};o(455);const ga=(0,st.Z)(pa,[["render",function(t,o,y,b,x,k){const C=(0,e.resolveComponent)("SchedulerGrid"),N=(0,e.resolveComponent)("AssignmentModal"),E=(0,e.resolveComponent)("ConflictPanel");return(0,e.openBlock)(),(0,e.createElementBlock)("div",a,[(0,e.createCommentVNode)(" Header with Planning Mode Controls "),(0,e.createElementVNode)("div",n,[l,(0,e.createElementVNode)("div",s,[(0,e.createElementVNode)("div",{class:(0,e.normalizeClass)(["mode-indicator",{"read-only":b.isReadOnly}])},(0,e.toDisplayString)(b.isReadOnly?"Published Schedule (Read-Only)":"Planning Mode"),3),b.isReadOnly?(0,e.createCommentVNode)("v-if",!0):((0,e.openBlock)(),(0,e.createElementBlock)("div",i,[(0,e.createElementVNode)("button",{onClick:o[0]||(o[0]=(...e)=>b.undo&&b.undo(...e)),disabled:!b.canUndo,class:"undo-btn"},"â†¶ Undo",8,r),(0,e.createElementVNode)("button",{onClick:o[1]||(o[1]=e=>b.showConflicts=!b.showConflicts),class:(0,e.normalizeClass)(["conflicts-btn",{active:b.showConflicts}])}," âš ï¸ Conflicts ("+(0,e.toDisplayString)(b.allConflicts.length)+") ",3)]))])]),(0,e.createCommentVNode)(" Main Scheduler Grid "),(0,e.createElementVNode)("div",d,[(0,e.createVNode)(C,{periods:b.periods,"school-days":b.schoolDays,courses:b.courses,teachers:b.teachers,classes:b.classes,rooms:b.rooms,subjects:b.subjects,"draft-schedules":b.draftSchedules,"live-schedules":b.liveSchedules,conflicts:b.allConflicts,"can-undo":b.canUndo,"is-saving":b.isSaving,"is-read-only":b.isReadOnly,"show-statistics":!0,onCellClick:b.handleCellClick,onAssignmentDetails:b.handleAssignmentDetails,onToggleNonInstructional:b.handleToggleNonInstructional,onToggleLessonSchedules:b.handleToggleLessonSchedules,onModeChanged:b.handleModeChanged,onPeriodFocusChanged:b.handlePeriodFocusChanged,onFilterYear:b.handleFilterYear,onUndoLast:b.undo,onSaveDraft:b.saveDraft,onUpdateAssignments:b.updateAssignments},null,8,["periods","school-days","courses","teachers","classes","rooms","subjects","draft-schedules","live-schedules","conflicts","can-undo","is-saving","is-read-only","onCellClick","onAssignmentDetails","onToggleNonInstructional","onToggleLessonSchedules","onModeChanged","onPeriodFocusChanged","onFilterYear","onUndoLast","onSaveDraft","onUpdateAssignments"])]),(0,e.createCommentVNode)(" Assignment Modal "),(0,e.createVNode)(N,{visible:b.showAssignmentModal,"day-id":b.selectedCell.dayId,"period-id":b.selectedCell.periodId,period:b.selectedCell.period,courses:b.availableCoursesForSlot,teachers:b.teachers,classes:b.classes,rooms:b.rooms,subjects:b.subjects,"school-days":b.schoolDays,"existing-assignments":b.selectedCell.assignments,conflicts:b.selectedCell.conflicts,"is-read-only":b.isReadOnly,"pre-selected-course":b.selectedCell.preSelectedCourse,onClose:b.closeAssignmentModal,onAddAssignment:b.addAssignment,onEditAssignment:b.editAssignment,onRemoveAssignment:b.removeAssignment},null,8,["visible","day-id","period-id","period","courses","teachers","classes","rooms","subjects","school-days","existing-assignments","conflicts","is-read-only","pre-selected-course","onClose","onAddAssignment","onEditAssignment","onRemoveAssignment"]),(0,e.createCommentVNode)(" Conflict Panel "),b.showConflicts&&b.allConflicts.length>0?((0,e.openBlock)(),(0,e.createElementBlock)("div",c,[(0,e.createVNode)(E,{visible:b.showConflicts,conflicts:b.allConflicts,courses:b.courses,teachers:b.teachers,classes:b.classes,rooms:b.rooms,periods:b.periods,"school-days":b.schoolDays,onClose:o[2]||(o[2]=e=>b.showConflicts=!1),onNavigateToConflict:b.navigateToConflict,onApplySuggestion:b.applySuggestion,onIgnoreConflict:b.ignoreConflict,onAutoResolveAll:b.autoResolveConflicts},null,8,["visible","conflicts","courses","teachers","classes","rooms","periods","school-days","onNavigateToConflict","onApplySuggestion","onIgnoreConflict","onAutoResolveAll"])])):(0,e.createCommentVNode)("v-if",!0),(0,e.createCommentVNode)(" Hidden test section for development "),b.showTestData?((0,e.openBlock)(),(0,e.createElementBlock)("div",u,[(0,e.createElementVNode)("button",{onClick:o[3]||(o[3]=e=>b.showTestData=!1),class:"close-test"},"Ã—"),m,(0,e.createElementVNode)("div",p,[(0,e.createElementVNode)("div",null,[g,(0,e.createTextVNode)(" "+(0,e.toDisplayString)(b.schoolId),1)]),(0,e.createElementVNode)("div",null,[f,(0,e.createTextVNode)(" "+(0,e.toDisplayString)(b.draftId),1)]),(0,e.createElementVNode)("div",null,[h,(0,e.createTextVNode)(" "+(0,e.toDisplayString)(b.publishedBy||"Not Published"),1)]),(0,e.createElementVNode)("div",null,[v,(0,e.createTextVNode)(" "+(0,e.toDisplayString)(b.periods.length)+" periods, "+(0,e.toDisplayString)(b.courses.length)+" courses, "+(0,e.toDisplayString)(b.teachers.length)+" teachers ",1)]),(0,e.createElementVNode)("button",{onClick:o[4]||(o[4]=(...e)=>b.emitTestEvent&&b.emitTestEvent(...e)),class:"test-button"},"Test Event Emission")])])):(0,e.createCommentVNode)("v-if",!0),(0,e.createCommentVNode)(" Show test data toggle "),(0,e.createElementVNode)("button",{onClick:o[5]||(o[5]=e=>b.showTestData=!b.showTestData),class:"test-toggle",title:"Toggle test data"},"ðŸ§ª"),(0,e.createCommentVNode)(" Debug data button "),(0,e.createElementVNode)("button",{onClick:o[6]||(o[6]=(...e)=>b.logCurrentData&&b.logCurrentData(...e)),class:"debug-toggle",title:"Log current data to console"},"ðŸ›")])}],["__scopeId","data-v-71b48c5a"]]),fa="course-scheduler",ha={options:{lazyHydrate:!0},editor:{label:{en:"Course Scheduler"},icon:"calendar",bubble:{icon:"calendar"}},properties:{schoolId:{label:{en:"School ID",fr:"ID Ã‰cole"},type:"Text",options:{placeholder:"Enter school UUID"},bindable:!0,defaultValue:null,bindingValidation:{validations:[{type:"string"}],tooltip:"UUID of the school for which the schedule is being created"}},draftId:{label:{en:"Draft ID",fr:"ID Brouillon"},type:"Text",options:{placeholder:"Enter draft UUID"},bindable:!0,defaultValue:null,bindingValidation:{validations:[{type:"string"}],tooltip:"UUID of the current draft being edited"}},publishedBy:{label:{en:"Published By",fr:"PubliÃ© par"},type:"Text",options:{placeholder:"Enter user UUID"},bindable:!0,defaultValue:null,bindingValidation:{validations:[{type:"string"}],tooltip:"UUID of the user publishing the schedule, or null if not published"}},periods:{label:{en:"Periods",fr:"PÃ©riodes"},type:"Array",bindable:!0,defaultValue:[],bindingValidation:{validations:[{type:"array"}],tooltip:"Array of period objects with id, name, start_time, end_time properties"}},courses:{label:{en:"Courses",fr:"Cours"},type:"Array",bindable:!0,defaultValue:[],bindingValidation:{validations:[{type:"array"}],tooltip:"Array of course objects with id, name, color properties"}},teachers:{label:{en:"Teachers",fr:"Enseignants"},type:"Array",bindable:!0,defaultValue:[],bindingValidation:{validations:[{type:"array"}],tooltip:"Array of teacher objects with id, name, color properties"}},classes:{label:{en:"Classes",fr:"Classes"},type:"Array",bindable:!0,defaultValue:[],bindingValidation:{validations:[{type:"array"}],tooltip:"Array of class objects with id, name, color properties"}},rooms:{label:{en:"Rooms",fr:"Salles"},type:"Array",bindable:!0,defaultValue:[],bindingValidation:{validations:[{type:"array"}],tooltip:"Array of room objects with id, name properties"}},subjects:{label:{en:"Subjects",fr:"MatiÃ¨res"},type:"Array",bindable:!0,defaultValue:[],bindingValidation:{validations:[{type:"array"}],tooltip:"Array of subject objects with id, name properties"}},schoolDays:{label:{en:"School Days",fr:"Jours scolaires"},type:"Array",bindable:!0,defaultValue:[{id:1,name:"Monday"},{id:2,name:"Tuesday"},{id:3,name:"Wednesday"},{id:4,name:"Thursday"},{id:5,name:"Friday"}],bindingValidation:{validations:[{type:"array"}],tooltip:"Array of school day objects with id, name properties (1=Sunday to 7=Saturday)"}},draftSchedules:{label:{en:"Draft Schedules",fr:"Brouillons horaires"},type:"Array",bindable:!0,defaultValue:[],bindingValidation:{validations:[{type:"array"}],tooltip:"Array of draft schedule entries with day_id, period_id/time, course_id, teacher_ids, etc."}},liveSchedules:{label:{en:"Live Schedules",fr:"Horaires publiÃ©s"},type:"Array",bindable:!0,defaultValue:[],bindingValidation:{validations:[{type:"array"}],tooltip:"Array of published schedule entries for reference/conflict checking"}}}};function va(){return!!window.addWwComponent&&(window.addWwComponent({name:fa,version:"1.0.0",content:ga,type:"wwobject",wwDev:!1,port:void 0,config:ha}),!0)}if(0!==fa.indexOf("__")&&(ha.name=fa),ha.wwDev=!1,ha.port=void 0,!va()){const e=setInterval(function(){va()&&clearInterval(e)},10)}})()})();